codetasty.revision.2.0
{"ts":1519048173,"restoring":false,"user_id":4416,"patch":[{"diffs":[[1,"window.MortageCalcInit = false;\nvar floorx = function(){\n_self = this;\n_self.fxData = FLOORXDATA;\n//window.stages = [];\n_self.stages  = [];\t\t\nwindow.GLOBAL_LAST_NTH = 0;\nwindow.forcedEvent = false;\n\n_self.loadAllElevations = function(){\n\n\t$.get('floorx-data/templates/elevation-left.mst' , function(template){\n\t\tconsole.log(_self.fxData);\n\t\tvar render = Mustache.render(template , { elevations :  _self.fxData });\n\n\t\t$('#elevation-wrapper').html(render);\n\n\t\t$('.single-elevation').eq(0).trigger('click');\n\n\t\t//process \n\n\t\tsetTimeout(function(){\n\t\t\t$('#fs-loading').fadeOut();\n\t\t},1000);\n\n\n\t});\n\n}\n\n_self.loadFloorByIds = function(floorIDs , preventInteractive){\n\n\t// var sample = [{\n\t// \tname : \"Floor1\",\n\t// \tvariations : [{\n\t// \t\tname : \"name\",\n\t// \t\timg : \"img\",\n\t// \t\tcoord : [1,1]\n\t// \t}]\n\t// }];\n\tvar floors_struct = [];\n\tfor( var _i = 0 ; _i < floorIDs.length ; _i++ ){\n\t\tvar floorID = floorIDs[_i];\n\tvar floors = DB[\"lots\"][floorID][\"modules\"];\n\tfor( var i = 0 ; i < floors.length ; i ++ ){\n\t\tvar varz = DB[\"layer_packs\"][floorID];\n\t\tvarz = varz[ Object.keys(varz)[0] ];\n\t\tfor(var k = 0 ; k < varz.length ; k++){\n\n\t\t\tvarz[k].coords = (typeof varz[k].coords == \"string\" ) ? varz[k].coords :  JSON.stringify(varz[k].coords);\n\t\t}\n\t\tvar t = {\n\t\t\tfloor_name : floors[i].label,\n\t\t\timg : floors[i].layerImgUrl,\n\t\t\tFLOORID : floorID,\n\t\t\tid : floors[i].id,\n\t\t\tvariations : varz\n\t\t}\n\t\tfloors_struct.push(t);\n\t}\n}\n\t\n\n\t$.get('floorx-data/templates/floors-left.mst' , function(template){\n\t\tvar render = Mustache.render( template , { floors : floors_struct } );\n\t\t$('#floorvars-wrapper').html(render);\n\t\tif( !preventInteractive ){\n\t\t\t_self.loadInteractive(floorIDs);\t\n\t\t}\n\n\t\t//inject sections \n\t\t$('ul.e-variations li').eq(0).before('<label class=\"label-head\">Bedrooms 2</label>');\n\t\t$('ul.e-variations li').eq(3).before('<label class=\"label-head\"> Bedrooms 3</label>');\n\t\t$('ul.e-variations li').eq(5).before('<label class=\"label-head\" for=\"active-dining\"> <input id=\"active-dining\" type=\"checkbox\" style=\"display:none;\" class=\"checkbox-gk\" /> <span class=\"check-slider round\"></span> Optional Dining Room </label>');\n\t\t\n\t\t$('ul.e-variations li:eq(5)  , ul.e-variations li:eq(6) ').wrapAll('<div class=\"preventor-parent\"></div>');\n\n\t\t$('ul.e-variations li:eq(6)').find('label').css({\n\t\t\t\"border-bottom\" : \"1px solid #000\"\n\t\t});\n\n\t\t$('.preventor-parent').prepend('<div class=\"preventor\"></div>');\n\t\t\n\n\t\t$('ul.e-variations li').eq(12).before('<label class=\"label-head\"> Garage Door </label>');\n\t\t$('ul.e-variations li').eq(15).before('<label class=\"label-head\"> Kitchen </label>');\n\n\t\t$('ul.e-variations li').eq(17).prepend('<div class=\"preventor-cathe\"></div>');;\n\n\t\t$('ul.e-variations li').eq(20).before('<label class=\"label-head\"> Main Bath </label>');\n\t\t$('ul.e-variations li').eq(21).before('<label class=\"label-head\"> Owner\\'s Suite option </label>');\n\n\t\t$('ul.e-variations li').eq(10).hide();\n\n\t\t\n\t});\n\n\n}\n\n_self.loadInteractive = function(floorIDs){\n\twindow.stages = {};\n\twindow.floorModules = {};\n\twindow.floorModulesRects = {};\n\n\t\n\t//TODO : destroy if present\n\t$.get('floorx-data/templates/right-floors.mst' , function(template){\n\t\t\n\t\t//right elevation\n\t\tvar render = Mustache.render(template , { floorList : floorIDs });\n\t\t$('#interactive-pre-wrapper').html(render);\n\t\tfor( var i = 0 ; i < floorIDs.length ; i++ ){\n\t\t\tvar stageid = 'stage-'+floorIDs[i];\n\t\t\tvar base = DB[\"lots\"][floorIDs[i]].base;\n\t\t\tstage = new createjs.Stage(stageid);//Add new stage\n\t\t\tstages[stageid] = stage;\n\t\t\t_self.floorCanvasRenderer(stageid , stage , base);\n\n\t\t\t$(\"#\"+stageid).panzoom();\n\n\t\t\t// Pass options\n\t\t\t$(\"#\"+stageid).panzoom({\n\t\t\t  minScale: 1,\n\t\t\t  maxScale : 2,\n\t\t\t  $zoomRange: $(\"input[type='range']\")\n\t\t\t});\n\n\t\t\t$(\"#\"+stageid).panzoom(\"zoom\" , 1.1);\n\n\t\t\t\n\n\n\t\t\t}\n\n\t\t\t$(window).trigger('resize');\n\t\t\t\n\t\t\t//bind event \n\t\t\t$('.collapse-parent').on('hide.bs.collapse', function () {\n\t\t\t  var target = $(this).data('target');\n\t\t\t  $(target).removeClass('active').addClass('collapsed');\n\t\t\t});\n\n\t\t\t$('.collapse-parent').on('show.bs.collapse', function () {\n\t\t\t  var target = $(this).data('target');\n\t\t\t  $(target).removeClass('collapsed').addClass('active');\n\t\t\t});\n\n\t\t\t$('.floor-selectron').eq(0).trigger('click');\n\n\n\n\n\n\t});\n\n\n};\n\n\n_self.floorCanvasRenderer = function(stageID , stage,base){\n\tsafeLoad(base , \"test\").then(function(response){\n\tvar img =  response.queue.getResult(response.id);\n\tdocument.getElementById(stageID).width = img.width;\n\tdocument.getElementById(stageID).height = img.height;\n\n\t_self.base = new createjs.Bitmap( img );//Add new base\n\n\t//add base to scene\n\tstage.addChild(_self.base);\n\t_self.base.x = 0;\n\t_self.base.y = 0;\n\tstage.update();\n\t});\n\n\n\n\n\n\n\n\n}\n\n_self.rectDrawer = function( config )\t{\n\n\t\t\t\tvar stage = stages[config.stageid];\n\t\t\t//required keys of config, if any of this is missing, it should return error\n\t\t\tvar required = [\"id\",\"label\",\"drawX\",\"drawY\",\"dataSF\",\"w\",\"h\",\"strokeColor\",\"fillColor\",\"strokeStyle\"];\n\n\n\t\t\tfor ( i in required){\n\t\t\t\tvar _key = required[i];\n\t\t\t\tif( typeof config[_key] == \"undefined\" ){\n\t\t\t\t\talert( \"Error in drawing, value of \\\" \"+_key+\" \\\" is missing, please check log for more details\" );\n\t\t\t\t\tconsole.log(\"Tried to render rect with following config : \");\n\t\t\t\t\tconsole.log(config);\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t\n\t\t\t//always make sure that the argument length is on less than total\n\t\t\t//the last argument tells if update has to be made or not\n\n\t\t\tif( typeof config.image == \"undefined\" ){\n\t\t\tvar finalRect = new createjs.Shape();\n\t\t\tvar strokeColor = finalRect.graphics.beginStroke( config.strokeColor ).command;\n\t\t\tvar fillColor = finalRect.graphics.beginFill( config.fillColor).command;\n\t\t\tfinalRect.graphics.setStrokeStyle(config.strokeStyle);\n\t\t\tfinalRect.snapToPixel = true;\n\t\t\tfinalRect.graphics.drawRect(0, 0, config.w, config.h);\n\n\t\t\t}else{\n\t\t\t\tconfig.image.crossOrigin = \"Anonymous\";\n\t\t\t \t\n\t\t\t \t var box = new createjs.Shape();\n\t\t\t\t box.graphics.beginLinearGradientFill([\"#ff0000\", \"rgba(255, 0, 0, 1)\"], [1, 0.9], 0, 0, config.w, config.h)\n\t\t\t\t box.graphics.drawRect(0, 0, config.w, config.h);\n\t\t\t\t box.cache(0, 0, config.w, config.h);\n\n\t\t\t\tvar finalRect = new createjs.Bitmap(config.image);\n\t\t\t\tfinalRect.filters = [\n\t\t\t\t     new createjs.AlphaMaskFilter(box.cacheCanvas)\n\t\t\t\t ];\n\t\t\t\t finalRect.cache(0, 0, config.w , config.h);\n\n\n\n\n\t\t\t}\n\t\t\t\n\n\t\t\t \n\n\n\n\t\t\t //finalRect.graphics.beginBitmapFill(img, \"no-repeat\");\n\t\t\t\n\n\t\t\tfinalRect.regX = config.image.width/2;\n\t\t\tfinalRect.regY = config.image.height/2;\n\t\t\t\n\t\t\t//Append data\n\t\t\tfinalRect.data = {\n\t\t\t\tdataX : config.drawX,\n\t\t\t\tdataY : config.drawY,\n\t\t\t\tdataW : config.w,\n\t\t\t\tdataH : config.h,\n\t\t\t\tlayerPackID : config.layerPackID,\n\t\t\t\tcurrent : config.currentLayer,\n\t\t\t\tdataSF : config.dataSF,\n\t\t\t\thasDragged : false,\n\t\t\t\tlabel : config.label,\n\t\t\t};\n\t\t\tfinalRect.id = config.id;\n\n\t\t\tfinalRect.x = config.drawX + ( config.image.width/2 );\n\t\t\tfinalRect.y = config.drawY + ( config.image.height/2 );\n\t\t\t// finalRect.x = config.drawX;\n\t\t\t// finalRect.y = config.drawY;\n\t\t\tfinalRect.dataSF = config.dataSF;\n\n\n\t\t\t\n\t\t\t\n\t\t\t\t\n\t\t\t\n\n\t\t\tfinalRect.commands = { strokeColor : strokeColor  , fillColor : fillColor   };\n\t\t\t//finalRect.commands = { bitmap : finalRect   };\n\t\t\t\n\n\t\t\t//bind event listeners\n\t\t\t// finalRect.addEventListener('click' , onModuleClick);\n\t\t\t// finalRect.addEventListener('pressmove' , onModuleDragging);\n\t\t\t// finalRect.addEventListener('pressup' , onModuleDragStop);\n\n\t\t\t//add rectangle \n\t\t\tvar rect = new createjs.Shape();\n\t\t\tvar strokeColor = rect.graphics.beginStroke( 'rgba(0,0,0,0.0)' ).command;\n\t\t\tvar fillColor = rect.graphics.beginFill( 'rgba(96, 181, 0, 0.5)' ).command;\n\t\t\trect.graphics.setStrokeStyle( 2 );\n\t\t\trect.snapToPixel = true;\n\t\t\trect.graphics.drawRect(0, 0, config.w, config.h);\n\n\t\t\trect.regX = config.image.width/2;\n\t\t\trect.regY = config.image.height/2;\n\n\t\t\trect.x = config.drawX + ( config.image.width/2 );\n\t\t\trect.y = config.drawY + ( config.image.height/2 );\n\n\n\t\t\tfloorModulesRects[config.moduleID] = rect;\n\t\t\tstage.addChild(finalRect);\n\t\t\tstage.addChild(rect);\n\t\t\tstage.update();\n\n\n\t\t\treturn finalRect;\n}\n\n_self.loadNthElevation = function(nth){\n\n\t$.get('floorx-data/templates/elevation-right.mst' , function(template){\n\t\t\n\t\t//right elevation\n\t\tvar render = Mustache.render(template , _self.fxData[nth]);\n\n\t\t$('#right-wrapper').html(render);\n\n\t});\n\n\t$.get('floorx-data/templates/top-details.mst' , function(template){\n\t\t\n\t\t//left elevation\n\n\t\tvar render = Mustache.render(template , _self.fxData[nth]);\n\n\t\t$('#bs-example-navbar-collapse-1').html(render);\n\n\t});\n\n\t//texts \n\t$('#elevation-name').text(_self.fxData[nth].name);\n\n\t//inject floor \n\n\t//_self.loadFloorByIds(_self.fxData[nth].planID);\n\n};\n\n\n\n\n_self.loadAllElevations();\n\n\n/*----------  Events  ----------*/\n\n\n$(document).on('click' , '#floor-tab' , function(){\n\n\t$('#right-wrapper').fadeOut();\n\t$('.main-stage').block({ css: { \n            border: 'none', \n            padding: '15px', \n            backgroundColor: '#000', \n            '-webkit-border-radius': '10px', \n            '-moz-border-radius': '10px', \n            opacity: .5, \n            color: '#fff'\n        }, \n         overlayCSS:  { \n        backgroundColor: '#fff', \n        opacity:         0.6, \n        cursor:          'wait' \n    }, \n \n        message : 'Processing'\n         });\n\tsetTimeout(function(){\n\t\t$('.main-stage').unblock();\n\t\t$('#interactive-pre-wrapper').fadeIn();\n\t},1000);\n\t\n\n\t// $('#right-wrapper').block();\n\t// _self.loadFloorByIds(_self.fxData[GLOBAL_LAST_NTH].planID);\n\t// $(this).attr('aria-expanded',\"true\");\n\n\t//$('.custom-tabs').tab('show');\n\n\n});\n\n$(document).on('click' , '#elevation-tab' , function(){\n\n_self.loadNthElevation(GLOBAL_LAST_NTH);\n\n\t$('#right-wrapper').show();\n\t$('#interactive-pre-wrapper').hide();\n\n});\n\n\n$(document).on('click' , '#notes-tab' , function(){\n\n\tvar note = window.localStorage.getItem(\"floor-note\");\n\n\t$('#note-textarea').val(note);\n\n});\n\n$(document).on('click' , '#finish-modulesz' , function(e){\n\te.preventDefault();\n\tswal(\"Finish\" ,\"Selection completed. We'll be in contact with you soon.\" , \"success\");\n});\n\n\n$(document).on('click' , '#clear-button' , function(){\n\n\tvar note = window.localStorage.setItem(\"floor-note\" , \"\");\n\n\t$('#note-textarea').val(\"\");\n\n\tswal('Cleared' , \"Note has been cleared\" , \"success\");\n\n});\n\n\n\n\n$(document).on('click' , '.single-elevation' , function(e){\n\n\t//clear  and set global\n\n\twindow.GLOBAL_FINAL = {\n      base : {\n        image : '',\n        title : '',\n        beds : 0,\n        baths : 0,\n        sqft : 0,\n        garage : 0,\n        price : 0 \n      },\n      floorImages : [],\n      \n       modules : {\n      \n      // moduleID : {\n      //   name : '',\n      //   price : '',\n      //   imgUrl : ''\n      // }\n      \n       }\n\n    };\n\ne.preventDefault();\n//get index \nvar index = $(this).index();\nGLOBAL_LAST_NTH = index;\n_self.loadNthElevation(index);\n\n//inject \n\tvar ele = $(this);\n\tGLOBAL_FINAL.base.image = ele.find('img').eq(0).attr('src');\n\tGLOBAL_FINAL.base.title = ele.data('name');\n\tGLOBAL_FINAL.base.beds = ele.data('bedrooms');\n\tGLOBAL_FINAL.base.baths = ele.data('bathrooms');\n\tGLOBAL_FINAL.base.sqft = ele.data('total');\n\t//GLOBAL_FINAL.base.garage = ele.data('name');\n\tGLOBAL_FINAL.base.price = ele.data('price');\n\n\tvar planIDs = $(this).data('floors');\n\n\tplanIDs = planIDs.split(',');\n\tfor( var i in planIDs ){\n\t\tGLOBAL_FINAL.modules[ DB[\"lots\"][planIDs[i]].modules[0].label ] = { extraInfo : { image : DB[\"lots\"][planIDs[i]].base } };\n\t\t//GLOBAL_FINAL.floorImages.push( DB[\"lots\"][planIDs[i]].base );\n\t}\n\n\n\n//./inject\n\n_self.loadFloorByIds(_self.fxData[GLOBAL_LAST_NTH].planID , false);\n\n//fixHeights();\nif( MortageCalcInit ){\n\nvar t = document.getElementById('pslider');\nt.noUiSlider.updateOptions({\n    range: {\n        'min': 0,\n        'max': parseInt( $(this).data('price').replace(',' , '') )\n    }\n});\n}\n\n\nwindow.MortageCalcInit = true;\n//apply data to footer\n$('#footer-beds').html( $(this).data('bedrooms') );\n$('#UpdatedPrice').html( $(this).data('price') );\n$('#footer-baths').html( $(this).data('bathrooms') );\n$('#footer-area').html( $(this).data('total') );\n$('#footer-home-name').html( $(this).data('name') );\n\n$('#popup-base').html( $(this).data('price') );\n$('#total-price-counter').html( $(this).data('price') );\n\n\n\n//fixHeights();\n\n});\n\n\n_self.loadNthElevation(0);\n$(window).trigger('resize');\n\n$(document).on('change' , '.floor-selector' , function(){\n\nvar show = 'stage-'+ $(this).data('floorid');\t\n//hide all the floors\n$('.floor-selector').each(function(){\n\tvar i = $(this).data('floorid');\t\n\t$('#stage-'+i+'-wrapper').hide();\n});\n\n$('#'+show+'-wrapper').show();\n\n$(window).trigger('resize');\n\n\n\n\n});\n\n_self._formatter = wNumb({\n                        decimals: 0,\n                        thousand: ','\n                    });\n    \n\n\n/*===================================\n\t=            Special Ops            =\n\t===================================*/\n\nvar specialOps = function(stage , module){\n\n\t\t//push it to bottom\n\t\t//count stage children\n\t\tvar index = stage.children.length-1;\n\t\tstage.setChildIndex( module , 1 );\n\t\n\t\tvar index = stage.children.length-1;\n\t\tstage.setChildIndex( module , 1 );\n\t\tstage.update();\n\t\treturn true;\n\t\n\n\n};\t\n\t/*=====  End of Special Ops  ======*/\n\n\nvar modulePairingSystem = function(ele){\n\n\tvar conflicts = ele.data('conflicts') ? ele.data('conflicts').split(',') : false;\n\n\tif( conflicts && ele.is(':checked') ){\n\t\t//hide the conflicts\n\t\tfor( var i in conflicts ){\n\t\t\tvar c = conflicts[i];\n\t\t\tif( typeof floorModules[c] != \"undefined\"){\n\t\t\t$('input[data-combo=\"'+c+'\"]').prop('checked', false).trigger('change');\n\t\t\t\t}\n\n\t\t}\n\t\t\n\t\t\n\t}\n\n\tvar switchable = ele.data('switchable') ? ele.data('switchable').split(',') : false;\n\n\tif( switchable && ele.is(':checked') ){\n\t\t\n\t\tfor( var i in switchable ){\n\n\t\t\tvar s = switchable[i];\n\t\t\tif( typeof floorModules[s] != \"undefined\"){\n\n\t\t\t$('input[data-combo=\"'+s+'\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t\t}\n\t\t\n\t}else{\n\n\t\tif( switchable ){\n\t\t\t$('input[data-combo=\"'+switchable[0]+'\"]').prop('checked', true).trigger('change');\n\t\t}\n\n\t}\n\n\n\n\t/*=======================================\n\t=            TEMPORARY HACK             =\n\t=======================================*/\n//\tif( (ele.data('combo') == 'layer_6893f374_5e13_f481_19d6_999dc5909508.png' ) || (ele.data('combo') == 'layer_e85d0bf6_b67d_d7b5_f1f9_2786ee79cfa1.png' ) ){\n\n\tif( $('input[data-combo=\"layer_6893f374_5e13_f481_19d6_999dc5909508.png\"]').prop('checked') || $('input[data-combo=\"layer_e85d0bf6_b67d_d7b5_f1f9_2786ee79cfa1.png\"]').prop('checked') ){\n\t\t$('.options-item').eq(0).find('li').eq(7).hide();\n\t\t$('.options-item').eq(0).find('li').eq(8).show();\n\t\t//trun 1 off if on \n\t\tif( $('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked') ){\n\t\t\t$('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked', false).trigger('change');\t\n\t\t}\n\t\t\n\t\t// $('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked', false).trigger('change');\n\t}else{\n\t\t$('.options-item').eq(0).find('li').eq(7).show();\n\t\t$('.options-item').eq(0).find('li').eq(8).hide();\n\t\t//turn 2 off if on \n\t\t// $('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked', false).trigger('change');\n\t\tif( $('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked') ){\n\t\t\t$('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked', false).trigger('change');\t\n\t\t}\n\t\t\n\t\t\n\t}\n\t\n//\t}\n\t\n\t/*=====  End of TEMPORARY HACK   ======*/\n\t\n\n\n};\n\n\n$(document).on('change' , '#active-dining' , function(e){\n\nif( typeof e.originalEvent == \"undefined\" ){\n\nreturn false;\n\n}\n\nif( $('#active-dining').is(':checked') ){\n\n\t$('.preventor').css({\n\t\tdisplay : 'none'\n\t});\n\t$('input[data-combo=\"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\"]').prop('checked', true).trigger('change');\t\n\n}else{\n\t$('.preventor').css({\n\t\tdisplay : 'block'\n\t});\n\t$('input[data-combo=\"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\"]').prop('checked', false).trigger('change');\t\n}\n\n});\n\n\n$(document).on('change' , '#cbox-Kitchen_Optional_SunRoom' , function(){\n\n\tif( $(this).is(':checked') ){\n\t\t$('.preventor-cathe').css({\n\t\tdisplay : 'none'\n\t\t\t});\n\n\t}else{\n\n\n\t\t//turn all options off\n\n\t\t$('#cbox-Kitchen_Optional_Cathedral_ceiling').prop(\"checked\" , false).trigger('change');\n\n\t\t$('.preventor-cathe').css({\n\t\tdisplay : 'block'\n\t\t\t});\n\n\n}\n\n});\n\n$(document).on('change' , '#cbox-Optional_Dining_Room' , function(){\n\n\tif( $(this).is(':checked') ){\n\t\t\n\t\tif( $('input[data-combo=\"layer_04a069ff_5621_6cc4_7c4d_6412927a918b.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_04a069ff_5621_6cc4_7c4d_6412927a918b.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_88c44e9a_cfff_f4d9_3603_1e557e4efce6.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_88c44e9a_cfff_f4d9_3603_1e557e4efce6.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5b9167db_af63_fa7c_7cf8_b922158cc441.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_5b9167db_af63_fa7c_7cf8_b922158cc441.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_4f783f55_c3cf_63dc_1910_16fe1cc8970d.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_4f783f55_c3cf_63dc_1910_16fe1cc8970d.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t\tif( $('input[data-combo=\"layer_94796c68_2779_bc64_46b8_54bcdf33b086.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_94796c68_2779_bc64_46b8_54bcdf33b086.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t}else{\n\n\n\t\t//turn all options off\n\n\t\t$('#active-dining').prop(\"checked\" , false).trigger('change');\n\n\t\t$('.preventor').css({\n\t\tdisplay : 'block'\n\t\t\t});\n\n\t\t\n\t\tif( $('input[data-combo=\"layer_bb5c34e7_b3e0_be12_bd52_8bd1fb86e5b9.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_bb5c34e7_b3e0_be12_bd52_8bd1fb86e5b9.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_f61000c5_c65b_73ba_8087_41af4c81de24.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_f61000c5_c65b_73ba_8087_41af4c81de24.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5411815b_5e3f_24a8_b5ef_a98658a99f96.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_5411815b_5e3f_24a8_b5ef_a98658a99f96.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_34b74a60_7a05_49e1_e8b9_d466f901f033.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_34b74a60_7a05_49e1_e8b9_d466f901f033.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_9b7a5f78_3d66_a474_2bb2_0839ef01aab3.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_9b7a5f78_3d66_a474_2bb2_0839ef01aab3.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5bf8c3db_71c4_210c_4ce4_94e44ba66306.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_5bf8c3db_71c4_210c_4ce4_94e44ba66306.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\n\t}\n\n});\n\n\n\n$(document).on('change' , '.floor-element-switcher' , function(e){\n\n\t\n\t\n\tvar stage = $(this).data('stageid');\n\tvar moduleID = $(this).data('combo'); \n\tvar coords = $(this).data('coords');\n\tvar image = $(this).data('url');\n\tvar price = $(this).data('price');\n\tvar name = $(this).data('name');\n\tvar floor = $(this).data('floor');\n\n\tvar ele = $(this);\n\t\n\tif( typeof e.originalEvent != \"undefined\"){\n\t\tmodulePairingSystem( ele );\t\n\t}\n\n\n\tif( typeof floorModules[moduleID] == \"undefined\" ){\n\n\t\t//show loader\n\n\t$('.main').block({ css: { \n            border: 'none', \n            padding: '15px', \n            backgroundColor: '#000', \n            '-webkit-border-radius': '10px', \n            '-moz-border-radius': '10px', \n            opacity: .5, \n            color: '#fff'\n        }, \n         overlayCSS:  { \n        backgroundColor: '#fff', \n        opacity:         0.6, \n        cursor:          'wait' \n    }, \n \n        message : 'Processing'\n         });\n\n\t\t//draw new \n\t\tsafeLoad(image , \"test\").then(function(response){\n\t\tvar img =  response.queue.getResult(response.id);\n\t\tvar new_rect = _self.rectDrawer({\n\t\tid \t\t\t: uuid(),\n\t\tstageid \t: stage,\n\t\tmoduleID    : moduleID, \n\t\tlabel \t\t: \"Doesnt matter\",\n\t\tdrawX \t\t: coords.x,\n\t\tdrawY \t\t: coords.y,\n\t\tdataSF\t\t: '',\n\t\tw     \t\t: img.width,\n\t\th     \t\t: img.height,\n\t\timage \t\t: img,\n\t\tstrokeColor : \"rgba(0, 255 , 0,0.5)\",\n\t\tfillColor   : \"rgba(0,0 , 255 ,0.5)\",\n\t\tstrokeStyle : 2,\n\t\t});\n\t\tfloorModules[moduleID] = new_rect;\n\n\t\tif( moduleID == \"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\" ){\n\t\t\tfloorModulesRects[moduleID].alpha = 0;\n\t\t\tstages[stage].update();\n\t\t}\n\n\t\t$('.main').unblock();\n\t\t//add module \n\t\t\tif( typeof  GLOBAL_FINAL.modules[floor] == \"undefined\"){\n\t\t\t\tGLOBAL_FINAL.modules[floor] = {};\n\t\t\t}\n\t\t\tGLOBAL_FINAL.modules[floor][moduleID] = {\n\t\t\t\t\t\t\t        name : name,\n\t\t\t\t\t\t\t        price : price,\n\t\t\t\t\t\t\t        imgUrl : image\n\t\t\t\t\t\t\t      };\n\t\t\t\t});\n\n\t\tsetTimeout(function(){\n\t\t\tGLOBAL_FINAL.modules[floor]['extraInfo']['image'] = $('#'+stage)[0].toDataURL();\n\t\t},500);\n\n\n\t\t//start filling\n\t\t\t\tvar UpdatedPrice = $('#UpdatedPrice').text();\n\t\t\t\tUpdatedPrice =  parseFloat(UpdatedPrice.replace(',' , ''))  + parseFloat(price);\n\t\t\t\tvar total = UpdatedPrice;\n\t\t\t\t$('#UpdatedPrice').text( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t//dialog box\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\t\t\t\tvar base = ( isNaN(parseFloat( $('#UpdatedPrice').data('base-price') ) ) ) ? 0 : parseFloat( $('#UpdatedPrice').data('base-price') );\n\t\t\t\t$('#popup-options-selected').html( _self._formatter.to( total - base ) );\n\t\t\t\t//update slider\n\t\t\t\tvar pslider = document.getElementById('pslider');\n\n\t\t\t\tpslider.noUiSlider.updateOptions({\n\t\t\t\trange: {\n\t\t\t\t'min': 0,\n\t\t\t\t'max': total\n\t\t\t\t}\n\t\t\t});\n\n\t\t// end filling\n\t\t\n\t}else{\n\n\t\tif( $(this).is(':checked') ){\n\n\t\t\t//start filling\n\t\t\t\tvar UpdatedPrice = $('#UpdatedPrice').text();\n\t\t\t\tUpdatedPrice =  parseFloat(UpdatedPrice.replace(',' , ''))  + parseFloat(price);\n\t\t\t\tvar total = UpdatedPrice;\n\t\t\t\t$('#UpdatedPrice').text( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t//dialog box\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\t\t\t\tvar base = ( isNaN(parseFloat( $('#UpdatedPrice').data('base-price') ) ) ) ? 0 : parseFloat( $('#UpdatedPrice').data('base-price') );\n\t\t\t\t$('#popup-options-selected').html( _self._formatter.to( total - base ) );\n\t\t\t\t//update slider\n\t\t\t\tvar pslider = document.getElementById('pslider');\n\n\t\t\t\tpslider.noUiSlider.updateOptions({\n\t\t\t\trange: {\n\t\t\t\t'min': 0,\n\t\t\t\t'max': total\n\t\t\t\t}\n\t\t\t});\n\n\t\t// end filling\n\n\t\t\tfloorModules[moduleID].alpha=1;\n\t\t\tif( moduleID != \"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\" ){\n\t\t\n\t\t\tfloorModulesRects[moduleID].alpha = 1;\n\n\t\t}\n\t\t\tstages[stage].update();\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\tGLOBAL_FINAL.modules[floor]['extraInfo']['image'] = $('#'+stage)[0].toDataURL();\n\t\t\t},500);\n\n\t\t\t//add module \n\t\t\tif( typeof  GLOBAL_FINAL.modules[floor] == \"undefined\"){\n\t\t\t\tGLOBAL_FINAL.modules[floor] = {};\n\t\t\t}\n\n\t\t\tGLOBAL_FINAL.modules[floor][moduleID] = {\n\t\t\t\t\t\t\t        name : name,\n\t\t\t\t\t\t\t        price : price,\n\t\t\t\t\t\t\t        imgUrl : image\n\t\t\t\t\t\t\t      };\n\n\t\t\t//$('.main').unblock();\n\t\t}else{\n\n\t\t\t//start filling\n\t\t\t\tvar UpdatedPrice = $('#UpdatedPrice').text();\n\t\t\t\tUpdatedPrice =  parseFloat(UpdatedPrice.replace(',' , ''))  + parseFloat(price);\n\t\t\t\tvar total = UpdatedPrice;\n\t\t\t\t$('#UpdatedPrice').text( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\n\t\t\t\t//dialog box\n\t\t\t\t$('#total-price-counter').html( _self._formatter.to(UpdatedPrice) );\n\t\t\t\tvar base = ( isNaN(parseFloat( $('#UpdatedPrice').data('base-price') ) ) ) ? 0 : parseFloat( $('#UpdatedPrice').data('base-price') );\n\t\t\t\t$('#popup-options-selected').html( _self._formatter.to( total - base ) );\n\t\t\t\t//update slider\n\t\t\t\tvar pslider = document.getElementById('pslider');\n\n\t\t\t\tpslider.noUiSlider.updateOptions({\n\t\t\t\trange: {\n\t\t\t\t'min': 0,\n\t\t\t\t'max': total\n\t\t\t\t}\n\t\t\t});\n\n\t\t// end filling\n\t\t\t\n\t\t\tfloorModules[moduleID].alpha=0;\n\t\t\tfloorModulesRects[moduleID].alpha = 0;\n\t\t\tstages[stage].update();\n\n\t\t\t//remove \n\n\t\t\tdelete GLOBAL_FINAL.modules[floor][moduleID];\n\t\t\t\n\t\t\tsetTimeout(function(){\n\t\t\tGLOBAL_FINAL.modules[floor]['extraInfo']['image'] = $('#'+stage)[0].toDataURL();\n\t\t\t},500);\n\n\t\t\t// $('.main').unblock();\n\t\t}\n\n\t}\n\t\n});\n\nvar increment = 0.1;\n$(document).on('click' , '.plan-zoom-reset' , function(){\nvar target = $('#stage-'+ $(this).data('target') );\n\ntarget.panzoom( 'zoom' , 1.1 , {animate : true});\ntarget.panzoom( 'pan' , 0, 0 , {animate : true} );\n$('.zoom-text-'+ $(this).data('target')).text( '10%' );\n$('.plan-zoomout , .plan-zoomin').data('val', 1.1);\n});\n\n$(document).on('click' , '.plan-zoomin' , function(){\nvar target = $('#stage-'+ $(this).data('target') );\nvar z = $(this).data('val');\nz = parseFloat(z);\nz =  (z > 1.9) ? 2 : z+increment;\n$('.plan-zoomout , .plan-zoomin').data('val', z);\n$('.zoom-text-'+ $(this).data('target')).text( parseInt ( ( (z-1)/1)*100 )+'%' );\ntarget.panzoom(\"zoom\", z, { animate : true });\n});\n\n$(document).on('click' , '.plan-zoomout' , function(){\nvar target = $('#stage-'+ $(this).data('target') );\nvar z = $(this).data('val');\nz = parseFloat(z);\nz =  (z < 1.1) ? 1 : z - increment;\n$('.plan-zoomout , .plan-zoomin').data('val', z);\n$('.zoom-text-'+ $(this).data('target')).text( parseInt ( ( (z-1)/1)*100 )+'%' );\ntarget.panzoom(\"zoom\", z, { animate : true });\n});\n\n\n$(document).on('submit' , '#notes-form' , function(e){\ne.preventDefault();\n\nwindow.localStorage.setItem(\"floor-note\" , $('#note-textarea').val() );\n\nswal('Saved' , \"Note has been saved\" , \"success\");\n});\n\n\n\n\n\nfunction fixRightView(){\n\t$('#interactive-wrapper canvas').css({\n\t\theight : $(window).outerHeight() - 252 + 50\n\t});\n}\n$(window).on('resize' , function(){\n\tfixRightView();\n});\nfixRightView();\nreturn _self;\n};\n\n\n\n$(document).on('click' , '#next-btn' , function(e){\n\te.preventDefault();\n\t\n\t\n\t swal({\n      title: \"Are you sure\",\n      text: \"hm ? \",\n      type: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#7FBF34',\n      cancelButtonColor: '#1D5F70',\n      confirmButtonText: \"Yes\"\n    }).then((result) => {\n      if (result.value) {\n        \n        \n        alert('success');\n      \n\n        \n      }else{\n        //cancelled \n\n      }\n    });\n\t\n\t\n});"]],"start1":0,"start2":0,"length1":0,"length2":26617}],"length":26617}
{"ts":1519048208,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"sure"],[-1,"\",\n      text: \"hm ?"],[1," you want to go back ?\",\n      text: \"This action will clear this session and restart a new one."],[0," \",\n"]],"start1":26261,"start2":26261,"length1":28,"length2":104}],"length":26693}
{"ts":1519048297,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"    "],[-1,"alert('success')"],[1,"window.location.href = \"http://forbes.xhome360.com\""],[0,";\n  "]],"start1":26596,"start2":26596,"length1":24,"length2":59}],"length":26728}
{"ts":1519051301,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ult();\n\t"],[1,"\n\t//"],[0,"swal(\"Fi"]],"start1":9948,"start2":9948,"length1":16,"length2":20}],"length":26732}
{"ts":1519051313,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ult();\n\t"],[1,"window.location.href= \"/#!/final\";"],[0,"\n\t//swal"]],"start1":9948,"start2":9948,"length1":16,"length2":50}],"length":26766}
{"ts":1519051669,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"};\n\t\t\t}\n"],[1,"\t\t\t//find parent \n\t\t\t\t//get its index \n\t\t\t\tvar ind = ele.index('.floor-element-switcher');\n\t\t\t\t//get the last label index \n\t\t\t\t\n"],[0,"\t\t\tGLOBA"]],"start1":20927,"start2":20927,"length1":16,"length2":144}],"length":26894}
{"ts":1519051797,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0," index \n\t\t\t\t"],[1,"var lastIndex = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\tvar thisInd = $(this).index('.label-head');\n\t\t\t\t\tif( thisInd < ind ){\n\t\t\t\t\t\tlastIndex = $(this).index();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar label = $('.label-head').eq(lastIndex).text();\n\t\t\t\talert(label);"],[0,"\n\t\t\tGLOBAL_F"]],"start1":21050,"start2":21050,"length1":24,"length2":278}],"length":27148}
{"ts":1519051992,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t\t\tif( "],[1,"("],[0,"thisInd"],[1,"+lastIndex)"],[0," < ind )"]],"start1":21169,"start2":21169,"length1":23,"length2":35}],"length":27160}
{"ts":1519052350,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t}\n"],[-1,"\t\t\t//find parent \n\t\t\t\t//get its index \n\t\t\t\tvar ind = ele.index('.floor-element-switcher');\n\t\t\t\t//get the last label index \n\t\t\t\tvar lastIndex = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\tvar thisInd = $(this).index('.label-head');\n\t\t\t\t\tif( (thisInd+lastIndex) < ind ){\n\t\t\t\t\t\tlastIndex = $(this).index();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tvar label = $('.label-head').eq(lastIndex).text();\n\t\t\t\talert(label);\n"],[0,"\t\t\tG"]],"start1":20931,"start2":20931,"length1":402,"length2":8}],"length":26766}
{"ts":1519052794,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"};\n\t\t\t}\n"],[1,"\t\t\t\n\t\t\t\n\t\t\t\n"],[0,"\t\t\tGLOBA"]],"start1":20927,"start2":20927,"length1":16,"length2":28},{"diffs":[[0," = {};\n\t\t\t}\n"],[1,"\t\t\t\t\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');"],[0,"\n\t\t\tGLOBAL_F"]],"start1":23328,"start2":23328,"length1":24,"length2":88}],"length":26842}
{"ts":1519052845,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"cher');\n"],[1,"\t\t\t\t\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\t\n\t\t\t\t});\n\t\t\t\t\n"],[0,"\t\t\tGLOBA"]],"start1":23397,"start2":23397,"length1":16,"length2":119}],"length":26945}
{"ts":1519053003,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"cher');\n\t\t\t\t"],[1,"\tvar lastLabel = 0;"],[0,"\n\t\t\t\t$('.lab"]],"start1":23397,"start2":23397,"length1":24,"length2":43},{"diffs":[[0,"ex();\n\t\t\t\t\t\t"],[1,"if( (moduleIndex+labelIndex)  ){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}"],[0,"\n\t\t\t\t});\n\t\t\t"]],"start1":23501,"start2":23501,"length1":24,"length2":72}],"length":27012}
{"ts":1519053039,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ex) "],[-1," ){\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t}\n\t\t\t\t}"],[1,"< labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) "],[0,");\n\t"]],"start1":23538,"start2":23538,"length1":33,"length2":113}],"length":27092}
{"ts":1519053081,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t}\n"],[-1,"\t\t\t\t\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) );\n\t\t\t\t\n"],[0,"\t\t\tG"]],"start1":23336,"start2":23336,"length1":323,"length2":8}],"length":26777}
{"ts":1519053082,"restoring":false,"patch":[{"diffs":[[0,"};\n\t\t\t}\n"],[1,"\n"],[0,"\t\t\tGLOBA"]],"start1":23332,"start2":23332,"length1":16,"length2":17}],"length":26778}
{"ts":1519053109,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0," = {};\n\t\t\t}\n"],[1,"\t\t\t\t\n\t\t\t\t\n\t\t\t\talert('init');\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) );\n\t\t\t\t"],[0,"\n\t\t\tGLOBAL_F"]],"start1":23328,"start2":23328,"length1":24,"length2":362}],"length":27116}
{"ts":1519053163,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t\t\t"],[-1,"alert('init');\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) );"],[0,"\n\t\t\t"]],"start1":23350,"start2":23350,"length1":327,"length2":8}],"length":26797}
{"ts":1519053169,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"his);\n\t\n"],[1,"\talert('init');\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) );\n\t\n"],[0,"\tif( typ"]],"start1":19517,"start2":19517,"length1":16,"length2":339}],"length":27120}
{"ts":1519053170,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"bel) );\n"],[1,"\t\t\t\t\n"],[0,"\t\n\tif( t"]],"start1":19838,"start2":19838,"length1":16,"length2":21}],"length":27125}
{"ts":1519053189,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"stLabel)"],[1,".text()"],[0," );\n\t\t\t\t"]],"start1":19834,"start2":19834,"length1":16,"length2":23}],"length":27132}
{"ts":1519053192,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"is);\n\t\n\t"],[1,"//"],[0,"alert('i"]],"start1":19518,"start2":19518,"length1":16,"length2":18}],"length":27134}
{"ts":1519053285,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,";\n\t\n"],[-1,"\t//alert('init');\n\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel).text() );\n\t\t\t\t\n\t\n"],[0,"\tif("]],"start1":19521,"start2":19521,"length1":345,"length2":8},{"diffs":[[0,"\t}\n\t\t\t\t\n\t\t\t\t"],[-1,"\n\t\t\t\t"],[1,"var moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\talert( $('.label-head').eq(lastLabel) );"],[0,"\n\t\t\t\t\n\t\t\tGLO"]],"start1":23337,"start2":23337,"length1":29,"length2":324}],"length":27092}
{"ts":1519053561,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,";\n\t\t"],[-1,"$('ul.e-variations li').eq(3).before('<label class=\"label-head\"> Bedrooms 3</label>');"],[1,"\t\n\t\t$('.option-tab').eq(0).attr('data-category' , 'Bedrooms 2');\n\t\t$('.option-tab').eq(1).attr('data-category' , 'Bedrooms 2');\n\t\t\t\t\n\t\t$('ul.e-variations li').eq(3).before('<label class=\"label-head\"> Bedrooms 3</label>');\n\t\t\n\t\t$('.option-tab').eq(2).attr('data-category' , 'Bedrooms 2');\n\t\t$('.option-tab').eq(3).attr('data-category' , 'Bedrooms 2');\n\t\t\n\t\t$('.option-tab').eq(4).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(5).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(6).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(7).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(8).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(9).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(10).attr('data-category' , 'Optional Dining Room');\n\t\t"],[0,"\n\t\t$"]],"start1":1774,"start2":1774,"length1":94,"length2":876}],"length":27874}
{"ts":1519053623,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0," Room');\n\t\t\n"],[1,"\t\t$('.option-tab').eq(11).attr('data-category' , 'Garage Door');\n\t\t$('.option-tab').eq(12).attr('data-category' , 'Garage Door');\n\t\t$('.option-tab').eq(13).attr('data-category' , 'Garage Door');\n\t\t\n\t\t$('.option-tab').eq(14).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(15).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(16).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(17).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(18).attr('data-category' , 'Kitchen');\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n"],[0,"\t\t$('ul.e-va"]],"start1":2635,"start2":2635,"length1":24,"length2":545}],"length":28395}
{"ts":1519053664,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"tchen');\n\t\t\n"],[1,"\t\t$('.option-tab').eq(19).attr('data-category' , 'Main Bath');\n\t\t\n\t\t$('.option-tab').eq(20).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t$('.option-tab').eq(21).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t$('.option-tab').eq(22).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t\n\t\t\n\t\t\n"],[0,"\t\t\n\t\t\n\t\t\n\t\t\n"]],"start1":3141,"start2":3141,"length1":24,"length2":324}],"length":28695}
{"ts":1519053820,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"(this);\n"],[1,"\tvar category_label = ele.parent().data('category');\n\talert( category_label() );\n"],[0,"\t\n\tif( t"]],"start1":21118,"start2":21118,"length1":16,"length2":97}],"length":28776}
{"ts":1519053843,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ry_label"],[-1,"()"],[0," );\n\t\n\ti"]],"start1":21193,"start2":21193,"length1":18,"length2":16}],"length":28774}
{"ts":1519053871,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"');\n"],[-1,"\talert( category_label );\n"],[0,"\t\n\ti"]],"start1":21175,"start2":21175,"length1":34,"length2":8}],"length":28748}
{"ts":1519053892,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"  imgUrl : image"],[1,",\n\t\t\t\t\t\t\t        category : category_label"],[0,"\n\t\t\t\t\t\t\t      };"]],"start1":22719,"start2":22719,"length1":32,"length2":74},{"diffs":[[0," : image"],[1,",\n\t\t\t\t\t\t\t        category : category_label"],[0,"\n\t\t\t\t\t\t\t"]],"start1":25477,"start2":25477,"length1":16,"length2":58}],"length":28832}
{"ts":1519053916,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ry' , 'Bedrooms "],[-1,"2"],[1,"3"],[0,"');\n\t\t$('.option"]],"start1":2045,"start2":2045,"length1":33,"length2":33},{"diffs":[[0,", 'Bedrooms "],[-1,"2"],[1,"3"],[0,"');\n\t\t\n\t\t$('"]],"start1":2112,"start2":2112,"length1":25,"length2":25}],"length":28832}
{"ts":1519053974,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t\t\t});\n\t\t\t\t"],[1,"//"],[0,"alert( $('.l"]],"start1":25295,"start2":25295,"length1":24,"length2":26}],"length":28834}
{"ts":1519053984,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t\t\n"],[-1,"\t\t\t\tvar moduleIndex = ele.index('.floor-element-switcher');\n\t\t\t\t\tvar lastLabel = 0;\n\t\t\t\t$('.label-head').each(function(){\n\t\t\t\t\t\tvar labelIndex = $(this).index();\n\t\t\t\t\t\tif( (moduleIndex+labelIndex) < labelIndex ){\n\t\t\t\t\t\t\tlastLabel = labelIndex;\n\t\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//alert( $('.label-head').eq(lastLabel) );\n"],[0,"\t\t\t\t"]],"start1":25039,"start2":25039,"length1":315,"length2":8}],"length":28527}
{"ts":1519054615,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"('price');\n\t"],[1,"// "],[0,"var name = $"]],"start1":21024,"start2":21024,"length1":24,"length2":27},{"diffs":[[0,"ta('name');\n"],[1,"\tvar name = $(this).parent().text();\n\t\n"],[0,"\tvar floor ="]],"start1":21060,"start2":21060,"length1":24,"length2":63}],"length":28569}
{"ts":1519054647,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\n\n\t}\n\n});\n\n\n"],[-1,"\n"],[0,"$(document)."]],"start1":20764,"start2":20764,"length1":25,"length2":24}],"length":28568}
{"ts":1519056750,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"right elevation\n"],[1,"\t\t_self.fxData[nth].image = GLOBAL_IMAGE;\n"],[0,"\t\tvar render = M"]],"start1":9780,"start2":9780,"length1":32,"length2":74}],"length":28610}
{"ts":1519056834,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"ation\n\t\t"],[1,"//"],[0,"_self.fx"]],"start1":9790,"start2":9790,"length1":16,"length2":18}],"length":28612}
{"ts":1519057025,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"= this;\n"],[1," FLOORXDATA[0].image = GLOBAL_IMAGE;\n"],[0,"_self.fx"]],"start1":63,"start2":63,"length1":16,"length2":53}],"length":28649}
{"ts":1519057933,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"is;\n"],[-1," FLOORXDATA[0].image = GLOBAL_IMAGE;\n"],[0,"_sel"]],"start1":67,"start2":67,"length1":45,"length2":8}],"length":28612}
{"ts":1519057941,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"= this;\n"],[1," FLOORXDATA[0].image = GLOBAL_IMAGE;\n"],[0,"_self.fx"]],"start1":63,"start2":63,"length1":16,"length2":53}],"length":28649}
{"ts":1519057949,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"= this;\n"],[1,"alert('inited');\n"],[0," FLOORXD"]],"start1":63,"start2":63,"length1":16,"length2":33}],"length":28666}
{"ts":1519058019,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"is;\n"],[-1,"alert('inited');\n"],[0," FLO"]],"start1":67,"start2":67,"length1":25,"length2":8}],"length":28649}
{"ts":1519058157,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"();\n\t\t},"],[-1,"1"],[1," 2"],[0,"000);\n\n\n"]],"start1":609,"start2":609,"length1":17,"length2":18}],"length":28650}
{"ts":1520949442,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"b').eq(2"],[-1,""],[0,""],[1,"0).hide();\n\n\t\t$('.option-tab').eq(2"],[0,"1).attr("]],"start1":3347,"start2":3347,"length1":16,"length2":51},{"diffs":[[0,"ote);\n\n});\n\n"],[1,"var uploadImage = function(base64 , imgRef)\n    {\n\n        return new Promise(function(resolve , reject){\n\n      var lotIdRef = storageRef.child( imgRef );\n            var uploadTask = lotIdRef.putString(base64, 'data_url' ); \n\n            uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\n\n        function(snapshot) {\n          // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\n          var progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\n          console.log('Upload is ' + progress + '% done');\n          $('#progress-percentage').html( Math.round(progress) +'%');\n          switch (snapshot.state) {\n          case firebase.storage.TaskState.PAUSED: // or 'paused'\n          console.log('Upload is paused');\n          break;\n          case firebase.storage.TaskState.RUNNING: // or 'running'\n          console.log('Upload is running');\n          break;\n          }\n        },\n        function(error) {\n          reject(error);\n        }, function() {\n        // Upload completed successfully, now we can get the download URL\n        var downloadURL = uploadTask.snapshot.downloadURL;\n        resolve(uploadTask.snapshot);\n        }\n        );\n\n\n\n        });\n\n\n    };\n\n\n"],[0,"$(document)."]],"start1":11583,"start2":11583,"length1":24,"length2":1304},{"diffs":[[0,"ult();\n\t"],[1,"//"],[0,"window.l"]],"start1":12948,"start2":12948,"length1":16,"length2":18},{"diffs":[[0,"/final\";"],[1,"\n\n\t\n\te.preventDefault();\n\t//swal(\"Finish\" ,\"Selection completed. We'll be in contact with you soon.\" , \"success\");\n\n\t//Create linkable \n\n\tvar linkData = {\n\t\timage : $('.front-image-wrapper').find('img').eq(0).attr('src'),\n\t\tmodules : GLOBAL_FINAL.modules,\n\t\thomeXData : GLOBAL_FINAL_HOMEX,\n\t\tfloorplans : { 'First Floor' : 'imageURL' }\n\t};\n\n\t/*==================================\n\t=            SAVE TO DB            =\n\t==================================*/\n\t\n\t\t\t\t\t$('body').block({ css: { \n            border: 'none', \n            padding: '15px', \n            backgroundColor: '#000', \n            '-webkit-border-radius': '10px', \n            '-moz-border-radius': '10px', \n            opacity: .5, \n            color: '#fff'\n        }, \n         overlayCSS:  { \n        backgroundColor: '#fff', \n        opacity:         0.6, \n        cursor:          'wait' \n    }, \n \n        message : 'Saving session <span id=\"progress-percentage\"></span>'\n         });\n\n           var sessionid = uuid();\n           var image = $('canvas')[0].toDataURL();\n           var imageId = uuid();\n          \n          uploadImage(image , imageId+'.png' ).then(function(favImage){\n\n          \tlinkData.floorplans['First Floor'] = favImage.downloadURL\n            firebase.database().ref('/forbesxFloor/'+sessionid).set(linkData).then(function(snap){\n            \n            \t//window.location.href = 'http://forbes.xfloor360.com/#!/?id='+sessionid;\n            \t$('body').unblock();\n            \t//store data in global var\n\t\t\t\tGLOBAL_FINAL.base.image = $('canvas')[0].toDataURL();\n\t\t\t\tGLOBAL_FINAL.modules = [\n\t\t\t\t];\n\n\t\t\t\twindow.location.href = \"/#!/final/\"+sessionid;\n\n          }).catch(function(err){\n            //reject(err);\n            alert(err);\n            console.log(err);\n            $('body').unblock();\n\n          });\n\n\n          }).catch(function(err){\n          \talert(err);\n            console.log(err);\n            $('body').unblock();\n\n          });\n\n          \n\n\t\n\t\n\t/*=====  End of SAVE TO DB  ======*/\n\t\n\n\n\n\t\n\t//$('#fs-loading').hide();\n\t$('#side-widget').hide();\n\n"],[0,"\n\t//swal"]],"start1":12984,"start2":12984,"length1":16,"length2":2085},{"diffs":[[0,"\t\t\t\n\t\t\t\n\t\t\t\n"],[-1,"\t\t\t"],[1,"                        "],[0,"GLOBAL_FINAL"]],"start1":26100,"start2":26100,"length1":27,"length2":48},{"diffs":[[0,"[floor][moduleID"],[1,".split('.')[0]"],[0,"] = {\n\t\t\t\t\t\t\t   "]],"start1":26156,"start2":26156,"length1":32,"length2":46},{"diffs":[[0," });\n\t\n\t\n});"],[-1,""],[0,""],[1,"\n"]],"start1":32059,"start2":32059,"length1":12,"length2":13}],"length":32072}
{"ts":1521558114,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"tion(){\n"],[1,"\n\n"],[0,"_self = "]],"start1":49,"start2":49,"length1":16,"length2":18},{"diffs":[[0,"){\n\n"],[-1,"\t// var sample = [{\n\t// \tname : \"Floor1\",\n\t// \tvariations : [{\n\t// \t\tname : \"name\",\n\t// \t\timg : \"img\",\n\t// \t\tcoord : [1,1]\n\t// \t}]\n\t// }];\n"],[0,"\tvar"]],"start1":699,"start2":699,"length1":147,"length2":8},{"diffs":[[0,"; _i++ ){\n\t\t"],[1,"\t"],[0,"var floorID "]],"start1":768,"start2":768,"length1":24,"length2":25},{"diffs":[[0,"ar floor"],[-1,"ID"],[0," ="],[1," FLOORSLIST["],[0," floorID"]],"start1":782,"start2":782,"length1":20,"length2":30},{"diffs":[[0,"[_i]"],[1," ]"],[0,";\n"],[1,"\t\t"],[0,"\tvar "],[-1,"floors = DB[\"lots\"][floorID][\"modules\"];\n\tfor( var i = 0 ; i <"],[1,"t = {\n\t\t\tfloor_name : (floor.alias) ? floor.alias :"],[0," floor"],[-1,"s"],[0,".l"],[-1,"ength ; i ++ ){\n\t\tvar varz = DB[\"layer_packs\"][floorID];\n\t\tvarz = varz[ Object.keys(varz)[0] ];\n\t\tfor(var k = 0 ; k < varz.length ; k++){\n\n\t\t\tvarz[k].coords = (typeof varz[k].coords == \"string\" ) ? varz[k].coords :  JSON.stringify(varz[k].coords);\n\t\t}\n\t\tvar t = {\n\t\t\tfloor_name : floors[i].label,\n\t\t\timg : floors[i].layerImgUrl,\n\t\t\tFLOORID : floorID,\n\t\t\tid : floors[i].id,\n\t\t\tvariations : varz\n\t\t}\n\t\tfloors_struct.push(t"],[1,"abel,\n\t\t\timg : floor[\"layers\"][\"bg\"][\"layers\"][\"image\"],\n\t\t\tFLOORID : floorIDs[_i],\n\t\t\tid : floorIDs[_i],\n\t\t\tvariations : floor.client_data\n\t\t\t\t\t}\n\t\tfloors_struct.push(t);\n\n\t\t}\n\t\n\n\t\n\n\t// $.get('floorx-data/templates/floors-left.mst' , function(template){\n\t// \tvar render = Mustache.render( template , { floors : floors_struct } );\n\t// \t$('#floorvars-wrapper').html(render);\n\t// \tif( !preventInteractive ){\n\t// \t\t_self.loadInteractive(floorIDs"],[0,");"],[1,"\t"],[0,"\n\t"],[-1,"}\n}\n\t"],[1,"// \t}\n\t// \t\t\t});"],[0,"\n\n\t$"]],"start1":813,"start2":813,"length1":515,"length2":541},{"diffs":[[0,"ate){\n\t\tvar "],[1,"template = Handlebars.compile(template);\n\t\t// var "],[0,"render = Mus"]],"start1":1415,"start2":1415,"length1":24,"length2":74},{"diffs":[[0,"ct } );\n"],[1,"\t\tvar render = template({ floors : floors_struct });\n\t\tconsole.log(floors_struct);\n"],[0,"\t\t$('#fl"]],"start1":1536,"start2":1536,"length1":16,"length2":99},{"diffs":[[0,"ender);\n"],[1,"\t\t\n"],[0,"\t\tif( !p"]],"start1":1659,"start2":1659,"length1":16,"length2":19},{"diffs":[[0,"\t\t//"],[-1,"inject sections \n\t\t$('ul.e-variations li').eq(0).before('<label class=\"label-head\">Bedrooms 2</label>');\n\t\t\t\n\t\t$('.option-tab').eq(0).attr('data-category' , 'Bedrooms 2');\n\t\t$('.option-tab').eq(1).attr('data-category' , 'Bedrooms 2');\n\t\t\t\t\n\t\t$('ul.e-variations li').eq(3).before('<label class=\"label-head\"> Bedrooms 3</label>');\n"],[1,"hide preventers\n\t\t$('.layer-controller').each(function(){\n\t\t\t\tif( $(this).attr('data-controller-layer') ){\n\t\t\t\t\t$('.layer-'+$(this).attr('data-controller-layer')).hide()\n\t"],[0,"\t\t"],[-1,"\n"],[0,"\t\t$('."],[-1,"option-tab').eq(2).attr('data-category' , 'Bedrooms 3');\n\t\t$('.option-tab').eq(3).attr('data-category' , 'Bedrooms 3');\n"],[1,"layer-'+$(this).attr('data-controller-layer')).find('.floor-element-switcher').addClass('is-data-controller-layer')\n\t"],[0,"\t\t"],[-1,"\n"],[0,"\t\t$('."],[-1,"option-tab').eq(4).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(5).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(6).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(7).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(8).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(9).attr('data-category' , 'Optional Dining Room');\n\t\t$('.option-tab').eq(10).attr('data-category' , 'Optional Dining Room');\n\t\t\n\t\t$('.option-tab').eq(11).attr('data-category' , 'Garage Door');\n\t\t$('.option-tab').eq(12).attr('data-category' , 'Garage Door');\n\t\t$('.option-tab').eq(13).attr('data-category' , 'Garage Doo"],[1,"layer-'+$(this).attr('data-controller-layer')).find('.floor-element-switcher').attr('data-parent-group-switch' , $(this).attr('data-id') )\n\t\t\t\t\t// $('.layer-'+$(this).find('.floor-element-switcher').attr('data-controller-layer')).addClass('is-data-controller-laye"],[0,"r')"],[-1,";"],[0,"\n\t\t"],[-1,"\n"],[1,"\t"],[0,"\t\t"],[1,"// "],[0,"$('."],[-1,"option-tab').eq(14).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(15).attr('data-category' , 'K"],[1,"layer-'+$(this).find('.floor-element-sw"],[0,"itche"],[-1,"n');\n\t\t$('.option-tab').eq(16).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(17).attr('data-category' , 'Kitchen');\n\t\t$('.option-tab').eq(18).attr('data-category' , 'Kitchen');"],[1,"r').attr('data-controller-layer')).attr('data-parent-group-switch' , $(this).attr('data-id') )"],[0,"\n\t\t"],[-1,"\n"],[0,"\t\t"],[-1,"$('.option-tab').eq(19).attr('data-category' , 'Main Bath');\n\t\t\n\t\t$('.option-tab').eq(20).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t$('.option-tab').eq(20).hide();\n\n\t\t$('.option-tab').eq(21).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t$('.option-tab').eq(22).attr('data-category' , 'Owner\\'s Suite Option');\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t\n\t\t$('ul.e-variations li').eq(5).before('<label class=\"label-head\" for=\"active-dining\"> <input id=\"active-dining\" type=\"checkbox\" style=\"display:none;\" class=\"checkbox-gk\" /> <span class=\"check-slider round\"></span> Optional Dining Room </label>');\n\t\t\n\t\t$('ul.e-variations li:eq(5)  , ul.e-variations li:eq(6) ').wrapAll('<div class=\"preventor-parent\"></div>');\n\n\t\t$('ul.e-variations li:eq(6)').find('label').css({\n\t\t\t\"border-bottom\" : \"1px solid #000\"\n\t\t});\n\n\t\t$('.preventor-parent').prepend('<div class=\"preventor\"></div>');\n\t\t\n\n\t\t$('ul.e-variations li').eq(12).before('<label class=\"label-head\"> Garage Door </label>');\n\t\t$('ul.e-variations li').eq(15).before('<label class=\"label-head\"> Kitchen </label>');\n\n\t\t$('ul.e-variations li').eq(17).prepend('<div class=\"preventor-cathe\"></div>');;\n\n\t\t$('ul.e-variations li').eq(20).before('<label class=\"label-head\"> Main Bath </label>');\n\t\t$('ul.e-variations li').eq(21).before('<label class=\"label-head\"> Owner\\'s Suite option </label>');\n\n\t\t$('ul.e-variations li').eq(10).hide();"],[1,"}\n\t\t})\n\n\t\t//bind preventors to parent\n\t\t// $(document).on('change' , '.is-data-controller-layer' , function(){\n\t\t// \tvar _parentClass = '.layer-'+$(this).attr('data-parent-group-switch')+'-controller'\n\t\t// \talert( $(this).prop('checked') )\n\t\t// \tif( $(this).prop('checked') ){\n\t\t// \t\t$(_parentClass).prop('checked' , true).trigger('change')\n\t\t// \t}else{\n\t\t// \t\t$(_parentClass).prop('checked' , false).trigger('change')\n\t\t// \t}\n\t\t// })\t"],[0,"\n\n\t\t"],[-1,"\n"],[1,"\t"],[0,"\t});\n\n\n"],[1,"\n\n\n"],[0,"}\n\n_"]],"start1":1741,"start2":1741,"length1":2879,"length2":1184},{"diffs":[[0," base = "],[-1,"DB[\"lots\"]"],[1,"FLOORSLIST"],[0,"[floorID"]],"start1":3381,"start2":3381,"length1":26,"length2":26},{"diffs":[[0,"rIDs[i]]"],[-1,".base"],[1,"[\"layers\"][\"bg\"][\"layers\"][\"image\"]"],[0,";\n\t\t\tsta"]],"start1":3404,"start2":3404,"length1":21,"length2":51},{"diffs":[[0,"n(nth){\n"],[-1,""],[1,"\t$('#fs-loading').fadeOut(500);\t"],[0,"\n\t$.get("]],"start1":8135,"start2":8135,"length1":16,"length2":48},{"diffs":[[0,"ons();\n\n"],[-1,"\n"],[0,"/*------"]],"start1":8795,"start2":8795,"length1":17,"length2":16},{"diffs":[[0,"L' }"],[-1,""],[1,",\n\t\televationName : $('#footer-home-name').text().trim()"],[0,"\n\t};\n"],[-1,"\n"],[0,"\t/*="]],"start1":11725,"start2":11725,"length1":14,"length2":69},{"diffs":[[0,"odules[ "],[-1,"DB[\"lots\"]"],[1,"FLOORSLIST"],[0,"[planIDs"]],"start1":14888,"start2":14888,"length1":26,"length2":26},{"diffs":[[0,"i]]."],[-1,"modules[0].label"],[1,"alias"],[0," ] ="]],"start1":14915,"start2":14915,"length1":24,"length2":13},{"diffs":[[0,"image : "],[-1,"DB[\"lots\"]"],[1,"FLOORSLIST"],[0,"[planIDs"]],"start1":14945,"start2":14945,"length1":26,"length2":26},{"diffs":[[0,"i]]."],[-1,"base"],[1,"layers[\"bg\"][\"layers\"][\"image\"]"],[0," } };\n\t\t"],[-1,"//"],[0,"GLOB"]],"start1":14972,"start2":14972,"length1":22,"length2":47},{"diffs":[[0,"sh( "],[-1,"DB[\"lots\"]"],[1,"FLOORSLIST"],[0,"[pla"]],"start1":15042,"start2":15042,"length1":18,"length2":18},{"diffs":[[0,"IDs[i]]."],[-1,"base"],[1,"layers[\"bg\"][\"layers\"][\"image\"]"],[0," );\n\t}\n\n"]],"start1":15061,"start2":15061,"length1":20,"length2":47},{"diffs":[[0,");\n\n"],[-1,"$('#'+show+'-wrapper').show();\n\n$(window).trigger('resize');\n\n\n\n\n});\n\n_self._formatter = wNumb({\n                        decimals: 0,\n                        thousand: ','\n                    });\n    \n\n\n/*===================================\n\t=            Special Ops            =\n\t===================================*/\n\nvar specialOps = function(stage , module){\n\n\t\t//push it to bottom\n\t\t//count stage children\n\t\tvar index = stage.children.length-1;\n\t\tstage.setChildIndex( module , 1 );\n\t\n\t\tvar index = stage.children.length-1;\n\t\tstage.setChildIndex( module , 1 );\n\t\tstage.update();\n\t\treturn true;\n\t\n\n\n};\t\n\t/*=====  End of Special Ops  ======*/\n\n\nvar modulePairingSystem = function(ele){\n\n\tvar conflicts = ele.data('conflicts') ? ele.data('conflicts').split(',') : false;\n\n\tif( conflicts && ele.is(':checked') ){\n\t\t//hide the conflicts\n\t\tfor( var i in conflicts ){\n\t\t\tvar c = conflicts[i];\n\t\t\tif( typeof floorModules[c] != \"undefined\"){\n\t\t\t$('input[data-combo=\"'+c+'\"]').prop('checked', false).trigger('change');\n\t\t\t\t}\n\n\t\t}\n\t\t\n\t\t\n\t}\n\n\tvar switchable = ele.data('switchable') ? ele.data('switchable').split(',') : false;\n\n\tif( switchable && ele.is(':checked') ){\n\t\t\n\t\tfor( var i in switchable ){\n\n\t\t\tvar s = switchable[i];\n\t\t\tif( typeof floorModules[s] != \"undefined\"){\n\n\t\t\t$('input[data-combo=\"'+s+'\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t\t}\n\t\t\n\t}else{\n\n\t"],[1,"var floorToRetain = 'ul'+$(this).attr('id')\n\n$('.collapse-parent').each(function(){\n"],[0,"\tif( "],[-1,"switchable ){\n\t\t\t$('input[data-combo=\"'+switchable[0]+'\"]').prop('checked', true).trigger('change');\n\t\t}\n\n\t}\n\n\n\n\t/*=======================================\n\t=            TEMPORARY HACK             =\n\t=======================================*/\n//\tif( (ele.data('combo') == 'layer_6893f374_5e13_f481_19d6_999dc5909508.png' ) || (ele.data('combo') == 'layer_e85d0bf6_b67d_d7b5_f1f9_2786ee79cfa1.png' ) ){\n\n\tif( $('input[data-combo=\"layer_6893f374_5e13_f481_19d6_999dc5909508.png\"]').prop('checked') || $('input[data-combo=\"layer_e85d0bf6_b67d_d7b5_f1f9_2786ee79cfa1.png\"]').prop('checked') ){\n\t\t$('.options-item').eq(0).find('li').eq(7).hide();\n\t\t$('.options-item').eq(0).find('li').eq(8).show();\n\t\t//trun 1 off if on \n\t\tif( $('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked') ){\n\t\t\t$('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked', false).trigger('change');\t\n\t\t}\n\t\t\n\t\t// $('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked', false).trigger('change');\n\t}else{\n\t\t$('.options-item').eq(0).find('li').eq(7).show();\n\t\t$('.options-item').eq(0).find('li').eq(8).hide();\n\t\t//turn 2 off if on \n\t\t// $('input[data-combo=\"layer_d0563547_2276_1dd8_678a_a1fba869b188.png\"]').prop('checked', false).trigger('change');\n\t\tif( $('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked') ){\n\t\t\t$('input[data-combo=\"layer_45321595_18e5_36a2_b5db_076c0cebe8ef.png\"]').prop('checked', false).trigger('change');\t\n\t\t}\n\t\t\n\t\t\n\t}\n\t\n//\t}\n\t\n\t/*=====  End of TEMPORARY HACK   ======*/\n\t\n\n\n};\n\n\n$(document).on('change' , '#active-dining' , function(e){\n\nif( typeof e.originalEvent == \"undefined\" ){\n\nreturn false;\n\n}\n\nif( $('#active-dining').is(':checked') ){\n\n\t$('.preventor').css({\n\t\tdisplay : 'none'\n\t});\n\t$('input[data-combo=\"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\"]').prop('checked', true).trigger('change');\t\n\n}else{\n\t$('.preventor').css({\n\t\tdisplay : 'block'\n\t});\n\t$('input[data-combo=\"layer_4ce007c6_36d5_3381_77dd_16a45424c3ba.png\"]').prop('checked', false).trigger('change');\t\n}\n\n});\n\n\n$(document).on('change' , '#cbox-Kitchen_Optional_SunRoom' , function(){\n\n\tif( $(this).is(':checked') ){\n\t\t$('.preventor-cathe').css({\n\t\tdisplay : 'none'\n\t\t\t});\n\n\t}else{\n\n\n\t\t//turn all options off\n\n\t\t$('#cbox-Kitchen_Optional_Cathedral_ceiling').prop(\"checked\" , false).trigger('change');\n\n\t\t$('.preventor-cathe').css({\n\t\tdisplay : 'block'\n\t\t\t});\n\n\n}\n\n});\n\n$(document).on('change' , '#cbox-Optional_Dining_Room' , function(){\n\n\tif( $(this).is(':checked') ){\n\t\t\n\t\tif( $('input[data-combo=\"layer_04a069ff_5621_6cc4_7c4d_6412927a918b.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_04a069ff_5621_6cc4_7c4d_6412927a918b.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_88c44e9a_cfff_f4d9_3603_1e557e4efce6.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_88c44e9a_cfff_f4d9_3603_1e557e4efce6.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5b9167db_af63_fa7c_7cf8_b922158cc441.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_5b9167db_af63_fa7c_7cf8_b922158cc441.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_4f783f55_c3cf_63dc_1910_16fe1cc8970d.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_4f783f55_c3cf_63dc_1910_16fe1cc8970d.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t\tif( $('input[data-combo=\"layer_94796c68_2779_bc64_46b8_54bcdf33b086.png\"]').prop('checked') ) {\n\n\t\t $('input[data-combo=\"layer_94796c68_2779_bc64_46b8_54bcdf33b086.png\"]').prop('checked', false).trigger('change');\n\n\t\t}\n\n\t}else{\n\n\n\t\t//turn all options off\n\n\t\t$('#active-dining').prop(\"checked\" , false).trigger('change');\n\n\t\t$('.preventor').css({\n\t\tdisplay : 'block'\n\t\t\t});\n\n\t\t\n\t\tif( $('input[data-combo=\"layer_bb5c34e7_b3e0_be12_bd52_8bd1fb86e5b9.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_bb5c34e7_b3e0_be12_bd52_8bd1fb86e5b9.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_f61000c5_c65b_73ba_8087_41af4c81de24.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_f61000c5_c65b_73ba_8087_41af4c81de24.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5411815b_5e3f_24a8_b5ef_a98658a99f96.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_5411815b_5e3f_24a8_b5ef_a98658a99f96.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_34b74a60_7a05_49e1_e8b9_d466f901f033.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_34b74a60_7a05_49e1_e8b9_d466f901f033.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_9b7a5f78_3d66_a474_2bb2_0839ef01aab3.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_9b7a5f78_3d66_a474_2bb2_0839ef01aab3.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\t\t\n\t\tif( $('input[data-combo=\"layer_5bf8c3db_71c4_210c_4ce4_94e44ba66306.png\"]').prop('checked') ) { \n\n\t\t\t$('input[data-combo=\"layer_5bf8c3db_71c4_210c_4ce4_94e44ba66306.png\"]').prop('checked', false).trigger('change');\n\n\t\t\t\t}\n\n\t}\n\n});"],[1,"$(this).attr('id') != floorToRetain ){\n\t\t$(this).collapse('hide')\n\t}\n})\n\n$('#'+show+'-wrapper').show();\n\n$(window).trigger('resize');\n\n\n});\n\n_self._formatter = wNumb({\n                        decimals: 0,\n                        thousand: ','\n                    });\n    \n"],[0,"\n\n\n$"]],"start1":16154,"start2":16154,"length1":6589,"length2":369},{"diffs":[[0,"is)."],[-1,"parent().text("],[1,"attr('data-module-name');\n\t\n\tvar floor = $(this).data('floor'"],[0,");\n"],[-1,"\t"],[0,"\n\tva"]],"start1":16833,"start2":16833,"length1":26,"length2":72},{"diffs":[[0,"r');\n\n\tvar floor"],[1,"_name"],[0," = $(this).data("]],"start1":16896,"start2":16896,"length1":32,"length2":37},{"diffs":[[0,"e = $(this)."],[1,"attr('"],[0,"data"],[-1,"('"],[1,"-"],[0,"floor"],[1,"-name"],[0,"');\n\n\tvar el"]],"start1":16916,"start2":16916,"length1":35,"length2":45},{"diffs":[[0,"l = "],[-1,"ele.parent("],[1,"$(this"],[0,")."],[-1,"d"],[0,"at"],[-1,"a('category"],[1,"tr('data-module-parent"],[0,"');\n"]],"start1":16992,"start2":16992,"length1":35,"length2":40},{"diffs":[[0,"ed\"){\n\t\t"],[-1,""],[1,"// "],[0,"modulePa"]],"start1":17073,"start2":17073,"length1":16,"length2":19},{"diffs":[[0,": coords"],[-1,".x"],[1,"[0]"],[0,",\n\t\tdraw"]],"start1":17903,"start2":17903,"length1":18,"length2":19},{"diffs":[[0,": coords"],[-1,".y"],[1,"[1]"],[0,",\n\t\tdata"]],"start1":17926,"start2":17926,"length1":18,"length2":19},{"diffs":[[0,"AL.modules[floor"],[1,"_name"],[0,"] == \"undefined\""]],"start1":18371,"start2":18371,"length1":32,"length2":37},{"diffs":[[0,"AL.modules[floor"],[1,"_name"],[0,"] = {};\n\t\t\t}\n\t\t\t"]],"start1":18425,"start2":18425,"length1":32,"length2":37},{"diffs":[[0,"\t\t}\n"],[-1,"\t\t\t"],[0,"\n\t\t\t"],[-1,"\n\t\t\t\n                        GLOBAL_FINAL.modules[floor][moduleID.split('.')[0]"],[1,"if( typeof  GLOBAL_FINAL.modules[floor_name][category_label.trim()] == \"undefined\"){\n\t\t\t\tGLOBAL_FINAL.modules[floor_name][category_label.trim()] = {};\n\t\t\t}\n\n\t\t\t\n\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\t\n\t\t\tGLOBAL_FINAL.modules[floor_name][category_label.trim()][name.trim()"],[0,"] = "]],"start1":18455,"start2":18455,"length1":94,"length2":260},{"diffs":[[0,"     name : name"],[1,".trim()"],[0,",\n\t\t\t\t\t\t\t       "]],"start1":18727,"start2":18727,"length1":32,"length2":39},{"diffs":[[0,"\t\t\t\t});\n"],[1,"\t\tstages[stage].update();"],[0,"\n\t\tsetTi"]],"start1":18870,"start2":18870,"length1":16,"length2":41},{"diffs":[[0,"AL.modules[floor"],[1,"_name"],[0,"]['extraInfo']['"]],"start1":18942,"start2":18942,"length1":32,"length2":37},{"diffs":[[0,"aURL();\n\t\t},"],[-1,"5"],[1,"1"],[0,"00);\n\n\n\t\t//s"]],"start1":19010,"start2":19010,"length1":25,"length2":25},{"diffs":[[0,"AL.modules[floor"],[1,"_name"],[0,"]['extraInfo']['"]],"start1":20941,"start2":20941,"length1":32,"length2":37},{"diffs":[[0,"DataURL();\n\t\t\t},"],[-1,"5"],[1,"10"],[0,"00);\n\n\t\t\t//add m"]],"start1":21006,"start2":21006,"length1":33,"length2":34},{"diffs":[[0,"es[floor"],[1,"_name"],[0,"] == \"un"]],"start1":21080,"start2":21080,"length1":16,"length2":21},{"diffs":[[0,"es[floor"],[1,"_name"],[0,"] = {};\n"]],"start1":21134,"start2":21134,"length1":16,"length2":21},{"diffs":[[0,"\t\t\t}\n\t\t\t"],[-1,"\t"],[0,"\n\t\t\t"],[1,"\n\t\t"],[0,"\t\n\t\t\tGLO"]],"start1":21155,"start2":21155,"length1":21,"length2":23},{"diffs":[[0,"es[floor"],[-1,"][moduleID"],[1,"_name][category_label.trim()][name.trim()"],[0,"] = {\n\t\t"]],"start1":21193,"start2":21193,"length1":26,"length2":57},{"diffs":[[0,"e : name"],[1,".trim()"],[0,",\n\t\t\t\t\t\t"]],"start1":21266,"start2":21266,"length1":16,"length2":23},{"diffs":[[0,"     };\n"],[1,"\t\t\t\n\n"],[0,"\n\t\t\t//$("]],"start1":21393,"start2":21393,"length1":16,"length2":21},{"diffs":[[0,"loor"],[-1,"][moduleID];\n\t\t\t"],[1,"_name][category_label.trim()][name.trim()];\n\t\t\tstages[stage].update();"],[0,"\n\t\t\t"]],"start1":22419,"start2":22419,"length1":24,"length2":78},{"diffs":[[0,"es[floor"],[1,"_name"],[0,"]['extra"]],"start1":22541,"start2":22541,"length1":16,"length2":21},{"diffs":[[0,");\n\t\t\t},"],[-1,"5"],[1,"10"],[0,"00);\n\n\t\t"]],"start1":22606,"start2":22606,"length1":17,"length2":18},{"diffs":[[0," });\n\t\n\t\n});"],[-1,""],[1,"\n\n\n/*=====================================\n=            LOGIC BINDERS            =\n=====================================*/\n\n/*----------  Parent Layer Controller  ----------*/\n$(document).on('change' , '.layer-controller' , function(e){\ne.preventDefault();\n\tvar id = $(this).attr('data-id');\n\tvar linkedlayer = $(this).attr('data-controller-layer');\n\t// var conflicting = ( $(this).attr('data-conflicts') ) ? $(this).attr('data-conflicts') : false;\n\tif( $(this).prop('checked') ){\n\n\t\t//hide the restrictor\n\t\t$('.group-'+id+'-child-preventor').hide()\n\n\t\t//trigger the linked layer \n\t\t$('.layer-'+linkedlayer+'-checkbox').prop('checked' , true).trigger('change')\n\n\t\t/*================================\n\t\t=            CONFLICT            =\n\t\t================================*/\n\n\t\t//turn off the conflicting layers \n\n\tvar conflicting = ( $(this).attr('data-conflicts') ) ? ( ( typeof $(this).attr('data-conflicts') == \"string\" ) ? JSON.parse( $(this).attr('data-conflicts') ) : $(this).attr('data-conflicts') )  : [];\n\tfor( var idx in conflicting ){\n\t\tif( $('.layer-'+conflicting[idx]+'-checkbox').prop('checked') ){\n\t\t\t$('.layer-'+conflicting[idx]+'-checkbox').prop('checked' , false).trigger('change')\n\n\t\t\t}\n\t}\n\t\t\n\t\t/*=====  End of CONFLICT  ======*/\n\t\t\n\n\n\t}else{\n\t\t\t\n\t\t\t//if controller\n\t\t\t\n\t\t\n\t\t//show the restrictor\n\t\t$('.group-'+id+'-child-preventor').show()\n\n\t\t//trigger the linked layer \n\t\tif( $('.layer-'+linkedlayer+'-checkbox').prop('checked') ){\n\t\t$('.layer-'+linkedlayer+'-checkbox').prop('checked' , false).trigger('change')\n\t\t\t}\n\t}\n\n});\n\n/*----------  Subsection comment block  ----------*/\n\n$(document).on('change' , '.floor-element-switcher' , function(e){\n\tvar id = $(this).attr('data-id');\n\n\tif( $(this).prop('checked') ){\n\t\t$('.dependent-'+id+'-preventor').hide()\n\n\t\tvar conflicting = ( $(this).attr('data-conflicts') ) ? ( ( typeof $(this).attr('data-conflicts') == \"string\" ) ? JSON.parse( $(this).attr('data-conflicts') ) : $(this).attr('data-conflicts') )  : [];\n\n\t\t\tfor( var idx in conflicting ){\n\t\tif( $('.layer-'+conflicting[idx]+'-checkbox').prop('checked') ){\n\t\t\t$('.layer-'+conflicting[idx]+'-checkbox').prop('checked' , false).trigger('change')\n\n\t\t\t}\n\t\t}\n\n\t}else{\n\t\tif( $('.dependent-'+id+'-element').prop('checked') ){\n\t\t$('.dependent-'+id+'-element').prop('checked' , false).trigger('change');\n\t\t\t}\n\t\t$('.dependent-'+id+'-preventor').show();\n\t}\n\n\n\t\n\n});\n\n\n\n\n\n/*=====  End of LOGIC BINDERS  ======*/"],[0,"\n"]],"start1":24742,"start2":24742,"length1":13,"length2":2438}],"length":27180}
{"ts":1521558186,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"')\n\t\t\t}\n"],[1,"\t\t\t\n\t\t\t\n\t\t\t\n"],[0,"\t}\n\n});\n"]],"start1":26284,"start2":26284,"length1":16,"length2":28}],"length":27192}
{"ts":1521558322,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t\t}\n\t\t\t\n\t\t\t"],[1,"//shut children\n\t\t\t$(this).parent().find('.is-option-child').each(function(){\n\t\t\t\t$(this).find('input[type=\"checkbox\"]').prop('checked' , false).trigger('change');\n\t\t\t});"],[0,"\n\t\t\t\n\t}\n\n});"]],"start1":26287,"start2":26287,"length1":24,"length2":194}],"length":27362}
{"ts":1521558578,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"\t\t$("],[-1,"this)."],[1,"'.wrapper-for-'+id+'-"],[0,"parent"],[-1,"("],[1,"'"],[0,").fi"]],"start1":26316,"start2":26316,"length1":21,"length2":36}],"length":27377}
{"ts":1521558632,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"function(){\n"],[1,"\t\t\t\tif( $(this).find('input[type=\"checkbox\"]').prop('checked') ){\n\t"],[0,"\t\t\t\t$(this)."]],"start1":26380,"start2":26380,"length1":24,"length2":91},{"diffs":[[0,"('change');\n"],[1,"\t\t\t\t}\n"],[0,"\t\t\t});\n\t\t\t\n\t"]],"start1":26533,"start2":26533,"length1":24,"length2":30}],"length":27450}
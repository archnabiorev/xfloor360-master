codetasty.revision.2.0
{"ts":1519054065,"restoring":false,"user_id":4416,"patch":[{"diffs":[[1,"'use strict';\n\n/**\n * @ngdoc function\n * @name floorxApp.controller:FinalCtrl\n * @description\n * # FinalCtrl\n * Controller of the floorxApp\n */\nangular.module('floorxApp')\n  .controller('FinalCtrl', function ($scope , userService , $location) {\n  $('#footer-wrapper').hide();\n  $('#sidebar-widget').hide();\n  if( typeof GLOBAL_FINAL == \"undefined\" ){\n    $location.path('/');\n    return false;\n  }\n   var data = GLOBAL_FINAL;\n   $scope.data = data;\n   $scope.base = 263000;\n\n   var itemsTotal = 0;\n\n   $scope.getFormattedCurrency = function(amount){\n      return _formatter.to(amount);\n    };\n\n  for( var i in data.modules ){\n    for( var j in data.modules[i] ){\n      if( j != 'extraInfo' ){\n        itemsTotal = parseFloat( data.modules[i][j].price ) + itemsTotal;  \n      }\n      \n    }\n  }\n\n  $scope.itemsTotal = itemsTotal;\n   var _formatter = wNumb({\n                        decimals: 0,\n                        thousand: ','\n                    });\n    $scope.getFormattedCurrency = function(amount){\n      return _formatter.to(amount);\n    };\n   \n\nvar injCheck  = [];\n\n$scope.injectCheck = function(category){\n  if( injCheck.indexOf(category()) == -1 ){\n    injCheck.push(category());\n    return true;\n  }else{\n    return false;\n  }\n};\n\n   $scope.addToFavorite = function(){\n\n    //show loader\n    $('body').block({\n                    overlayColor: '#000000',\n                    type: 'loader',\n                    state: 'success',\n                    message: 'Saving <span id=\"progress-percentage\"></span>'\n                });\n\n    userService.addToFavorite(data).then(function(){\n      swal(\"Success\" , \"Added to favorites\" , \"success\");\n      $('body').unblock();\n    }).catch(function(err){\n      $('body').unblock();\n      swal(\"Error\" , \"An error occured\" , \"error\");\n      console.log(err);\n    });\n\n   };\n\n  });\n"]],"start1":0,"start2":0,"length1":0,"length2":1832}],"length":1832}
{"ts":1519055125,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"_FINAL;\n"],[1,"   if(GLOBAL_FINAL_HOMEX){\n     $scope.homexdata = GLOBAL_FINAL_HOMEX.items;\n   }else{\n     $scope.homexdata = [];\n   }\n"],[0,"   $scop"]],"start1":418,"start2":418,"length1":16,"length2":136}],"length":1952}
{"ts":1519055562,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"];\n   }\n"],[1,"   \n   window.tester = GLOBAL_FINAL_HOMEX.items;\n"],[0,"   $scop"]],"start1":538,"start2":538,"length1":16,"length2":65}],"length":2001}
{"ts":1519056259,"restoring":false,"user_id":4416,"patch":[{"diffs":[[1,"\n"],[0,"'use str"]],"start1":0,"start2":0,"length1":8,"length2":9},{"diffs":[[0,"L_FINAL;"],[1," \n   "],[0,"\n   if(G"]],"start1":418,"start2":418,"length1":16,"length2":21},{"diffs":[[0,"HOMEX){\n"],[1,"     data.base.image = GLOBAL_IMAGE;\n"],[0,"     $sc"]],"start1":451,"start2":451,"length1":16,"length2":53},{"diffs":[[0,"xdata = "],[-1,"[]"],[1,"false"],[0,";\n   }\n "]],"start1":572,"start2":572,"length1":18,"length2":21}],"length":2047}
{"ts":1519056263,"restoring":false,"user_id":4416,"patch":[{"diffs":[[0,"  };\n\n  });\n"],[1,"\n"]],"start1":2035,"start2":2035,"length1":12,"length2":13}],"length":2048}
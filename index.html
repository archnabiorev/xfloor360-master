<!DOCTYPE HTML>

<html>

<head>
  <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title> xFloor360 | X-Series </title>
    <link rel="icon" type="image/png" href="/favicon.png" sizes="16x16">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/new-ui/css/bootstrap.min.css" />

    <!-- Font Awesome CSS -->
    <link href="/new-ui/css/font-awesome.min.css" rel="stylesheet">

    <!-- Sweetalert CSS -->
    <link href="/new-ui/css/sweetalert.css" rel="stylesheet">

    <!-- Style CSS -->
    <link rel="stylesheet" href="/new-ui/css/style.css" />
    <link rel="stylesheet" href="/new-ui/css/xfloor-style.css" />

    <!-- Style rangeSlider -->
    <link rel="stylesheet" href="/new-ui/css/ion.rangeSlider.css" />
    <link rel="stylesheet" href="/new-ui/css/ion.rangeSlider.skinFlat.css" / >


    <link rel="stylesheet" href="/new-ui/css/nouislider.min.css">

    <!-- Responsive CSS -->
    <link rel="stylesheet" href="/new-ui/css/responsive.css" />
    <link rel="stylesheet" href="/new-ui/css/xfloor-responsive.css" />

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

     <!-- Core CSS file -->
    <link rel="stylesheet" href="/new-ui/css/photoswipe.css">

    <!-- Skin CSS file (styling of UI - buttons, caption, etc.)
         In the folder of skin CSS file there are also:
         - .png and .svg icons sprite,
         - preloader.gif (for browsers that do not support CSS animations) -->
    <link rel="stylesheet" href="/new-ui/css/default-skin/default-skin.css">


    <!-- google fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700,800" rel="stylesheet">


  <script>

  window.____token = '';
  window.getAllUrlParams = function(url) {

  // get query string from url (optional) or window
  // var queryString = url ? url.split('?')[1] : window.location.search.slice(1);
  var queryString = url ? url.split('?')[1] : window.location.href;

  // we'll store the parameters here
  var obj = {};

  // if query string exists
  if (queryString) {

    // stuff after # is not part of query string, so get rid of it
    queryString = queryString.split('#')[0];

    // split our query string into its component parts
    var arr = queryString.split('&');

    for (var i=0; i<arr.length; i++) {
      // separate the keys and the values
      var a = arr[i].split('=');

      // in case params look like: list[]=thing1&list[]=thing2
      var paramNum = undefined;
      var paramName = a[0].replace(/\[\d*\]/, function(v) {
        paramNum = v.slice(1,-1);
        return '';
      });

      // set parameter value (use 'true' if empty)
      var paramValue = typeof(a[1])==='undefined' ? true : a[1];

      // (optional) keep case consistent
      paramName = paramName.toLowerCase();
      paramValue = paramValue.toLowerCase();

      // if parameter name already exists
      if (obj[paramName]) {
        // convert value to array (if still string)
        if (typeof obj[paramName] === 'string') {
          obj[paramName] = [obj[paramName]];
        }
        // if no array index number specified...
        if (typeof paramNum === 'undefined') {
          // put the value on the end of the array
          obj[paramName].push(paramValue);
        }
        // if array index number specified...
        else {
          // put the value at that index number
          obj[paramName][paramNum] = paramValue;
        }
      }
      // if param name doesn't exist yet, set it
      else {
        obj[paramName] = paramValue;
      }
    }
  }

  return obj;
};

window.GLOBAL_FINAL_HOMEX = false;
var urlParams;
    (window.onpopstate = function () {
        var match,
            pl     = /\+/g,  // Regex for replacing addition symbol with a space
            search = /([^&=]+)=?([^&]*)/g,
            decode = function (s) { return decodeURIComponent(s.replace(pl, " ")); },
            query  = window.location.search.substring(1);

        urlParams = {};
        while (match = search.exec(query))
           urlParams[decode(match[1])] = decode(match[2]);
    })();
    
    

       function uuid() {
          function s4() {
            return Math.floor((1 + Math.random()) * 0x10000)
              .toString(16)
              .substring(1);
          }
          return s4() + s4() + '_' + s4() + '_' + s4() + '_' +
            s4() + '_' + s4() + s4() + s4();
        }
    window.MEGAQUEUE = [];
      var FLOORXDATA = [ 
{
  name : "Avery",
  image : "images/avery.png",
  bedrooms : 3,
  bathrooms : 2,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 1812,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_s9eft4aaa"], //"Floor_y5e2pxel8" was basement

},


{
  name : "Lexington",
  image : "images/lexinton.png",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2620,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_scdxlnh09" , "Floor_pm444uazi"],

},

{
  name : "Saxton",
  image : "images/saxton.png",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_mikvlav3x" , "Floor_mex2rtxla"],

},



{
  name : "Ryley",
  image : "images/saxton.png",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_97xn6tjwr" , "Floor_522aagcxq"],

},



{
  name : "Fairway",
  image : "https://firebasestorage.googleapis.com/v0/b/forbes-xhome.appspot.com/o/k02k3p5a4.png?alt=media&token=a2dfbfa3-4630-40a4-aea5-182bb470df0b",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_qr6rmpet9"],

},


{
  name : "Crestwood",
  image : "https://firebasestorage.googleapis.com/v0/b/forbes-xhome.appspot.com/o/3yrchnm2x.png?alt=media&token=69df4117-05d4-45e2-965d-5d7f2b153b42",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_bh1kuwaau"],

},



{
  name : "Monore",
  image : "https://firebasestorage.googleapis.com/v0/b/forbes-xhome.appspot.com/o/o4vejtrt0.png?alt=media&token=6f92cf76-c8d9-45ec-b947-1ed6da857ea7",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_8kquve10j"],

},

{
  name : "Bradly",
  image : "https://firebasestorage.googleapis.com/v0/b/forbes-xhome.appspot.com/o/xzemqc0hb.png?alt=media&token=1d457611-2f03-4e81-812f-73c6d16a8936",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_uetr90ejo" , "Floor_a7aikam7x"],

},


{
  name : "Hennefield",
  image : "http://forbes.xhome360.com/images/base-elevations/hennefield.jpg",
  bedrooms : 4,
  bathrooms : 2.5,
  cars : 2,
  main_floor : 1248,
  price : "363,000",
  upper_floor : 1372,
  floors : 2,
  total : 2490,
  garage : 2, 
  // planID : ["FLOORX_TEMPLATE_8508518b_3b37_c418_e38c_598e81092d1c" , "FLOORX_TEMPLATE_1cb8a27f_f70c_79e6_3ff4_20eca083dd31"],
  planID : ["Floor_ex1ceai81" , "Floor_kksawochk"],

}

// {
//   name : "Kingston-II",
//   image : "floorx-data/data/kingston-II.jpg",
//   bedrooms : 3,
//   bathrooms : 2,
//   cars : 3,
//   main_floor : false,
//   price : "283,000",
//   upper_floor : false,
//   floors : 1,
//   total : 2128,
//   garage : 3, 
//   planID : ["Floor_qnfjq2b4t"],

// },
// {
//   name : "Springwood",
//   image : "floorx-data/data/springwood.jpg",
//   bedrooms : 3,
//   bathrooms : 2,
//   cars : 3,
//   price : "191,000",
//   main_floor : 2083,
//   upper_floor : false,
//   floors : 1,
//   total : 2083,
//   garage : 3, 
//   planID : ["FLOORX_TEMPLATE_f6c340cc_1219_fa83_210f_0c8d58c3948b"],

// }

  ];

/*================================
=            DATABASE            =
================================*/
var DB = {};



/*=====  End of DATABASE  ======*/




    </script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>

</head>

<body ng-app="floorxApp">
    <div id="fs-loading">
    <div class="fs-loading-content center-middle">
      <p class="fs-loading-icon"> 
      
          <div class="item item-1"></div>
          <div class="item item-2"></div>
          <div class="item item-3"></div>
          <div class="item item-4"></div>
      
      </p>
      <!-- <p class="fs-loading-text"> Loading <span class="load-percentage"></span> </p> -->
      <p class="fs-loading-text"><span class="load-percentage">Loading</span> </p>
    </div>
  </div>

    <!-- Begin wrapper -->
    <div class="wrapper">
    <!-- Begin top-header -->
      <header class="top-header sticky-top">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-12">
              <div class="logo"><a href="#"><img src="/new-ui/images/xfloor-logo.png" alt="" /></a></div>
               <!-- Not Logged In -->
              <div ng-if="!authed" class="login">
                <button type="button" class="btn btn-success login-btn" data-toggle="modal" data-target="#exampleModal">
                  Login
                </button>
               </div>

              <!-- Logged In -->
              <div class="login" ng-if="authed" >
                  <div class="dropdown">
                    <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                      
                      <img class="user-profile-pic-head"  ng-if="user.photoURL" src="{{user.photoURL}}" style="border-radius: 100%;"/>
                      <img  class="user-profile-pic-head" ng-if="!user.photoURL" src="images/default-user-image.png" style="border-radius: 100%;"/>

                     <span>{{user.displayName}}</span>
                    </button>
                    <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                      <a class="dropdown-item" href="/#!/favorites"><i class="fa fa-heart-o"></i>Favorites</a>
                      <a class="dropdown-item" href="/#!/profile"><i class="fa fa-pencil"></i>Edit Profile</a>
                      <a class="dropdown-item"  ng-click="logout()" ><i class="fa fa-sign-out"></i>Logout</a>
                    </div>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </header>
      <!-- End top-header -->
   
      <!-- NG-VIEW -->

        <div ng-view=""></div>

      <!-- ./NG-VIEW -->

      

        <!-- Begin Login Section Pop Up -->
         <div class="login-section">
          <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="/new-ui/images/close-btn.png" alt="" />
                  </button>
                <div class="modal-body">
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                      <a class="nav-link authentication-modal-form active" id="home-tab" data-toggle="tab" data-target="#home" role="tab" aria-controls="home" aria-selected="true"> <img data-activeimage="/new-ui/images/sign-in-icon-active.png" data-nonactive="/new-ui/images/sign-in-icon.png" src="/new-ui/images/sign-in-icon.png" alt="" /> Sign In</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link authentication-modal-form" id="profile-tab" data-toggle="tab" data-target="#profile" role="tab" aria-controls="profile" aria-selected="false"><img data-activeimage="/new-ui/images/sign-up-icon-active.png" data-nonactive="/new-ui/images/sign-up-icon.png" src="/new-ui/images/sign-up-icon.png" alt="" /> Sign Up</a>
                    </li>
                    <li class="nav-item">
                      <a class="nav-link authentication-modal-form" id="contact-tab" data-toggle="tab" data-target="#contact" role="tab" aria-controls="contact" aria-selected="false"><img data-activeimage="/new-ui/images/lock-icon-active.png" data-nonactive="/new-ui/images/lock-icon.png" src="/new-ui/images/lock-icon.png" alt="" /> Forgot Password</a>
                    </li>
                  </ul>
                  <div class="tab-content" id="myTabContent">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                      <div id="loginbox" class="tab-box">
                        <div class="panel panel-info" >
                           <div class="panel-body" >
                              <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                              <form id="loginform" class="form-horizontal" role="form" ng-submit="signin()">
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/email-icon.png" alt="" /></span>
                                  <input id="login-username" type="email" class="form-control" name="username" ng-model="si_email" placeholder="Your Email Address" required="" />
                                </div>
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/password-icon.png" alt="" /></span>
                                  <input id="login-password" type="password" ng-model="si_password"  class="form-control" name="password" placeholder="Your Password" required="" />
                                </div>
                                <button class="btn btn-primary btn-lg btn-block login-button">Login</button>
                                <div class="divider-text">
                                  <span class="bg-light">OR</span>
                                </div>
                                <div class="social-btn">
                                  <a  ng-click="fblogin()"  class="btn facebook btn-block">
                                    <i class="fa fa-facebook"></i>
                                    Sign in with Facebook
                                  </a>
                                </div>
                        <div class="social-btn social-btn-margin-none">

                                  <a  ng-click="googlelogin()"  class="btn google btn-block">
                                    <i class="fa fa-google-plus"></i>
                                    Sign in with google
                                  </a>
                        </div>
                              </form>
                           </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                      <div id="loginbox" class="tab-box">
                        <div class="panel panel-info" >
                           <div class="panel-body" >
                              <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                              <form id="sign-up-form" class="form-horizontal" ng-submit="signup()" role="form">
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/user-icon.png" alt="" /></span>
                                  <input type="text" class="form-control" ng-model="su_name"  name="username" value="" placeholder="Your Full Name" required="" />
                                </div>
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/email-icon.png" alt="" /></span>
                                  <input type="text" class="form-control" ng-model="su_email"  name="username" value="" placeholder="Email Your Address" required="" />
                                </div>
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/password-icon.png" alt="" /></span>
                                  <input ng-model="su_password"  type="password" class="form-control" name="password" placeholder="Your Password" required="" />
                                </div>
                                <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Sign up</button>
                                <div class="divider-text">
                                  <span class="bg-light">OR</span>
                                </div>
                                <div class="social-btn">
                                  <a ng-click="fblogin()" class="btn facebook btn-block">
                                    <i class="fa fa-facebook"></i>
                                    Sign up with Facebook
                                  </a>
                                </div>
                        <div class="social-btn social-btn-margin-none">
                                  <a  ng-click="googlelogin()"  class="btn google btn-block">
                                    <i class="fa fa-google-plus"></i>
                                    Sign up with google
                                  </a>
                        </div>
                              </form>
                           </div>
                        </div>
                      </div>
                    </div>
                    <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                        <div id="loginbox" class="tab-box">
                        <div class="panel panel-info" >
                           <div class="panel-body" >
                              <div style="display:none" id="login-alert" class="alert alert-danger col-sm-12"></div>
                              <p>We will send you a reset password email, kindly check your email and follow the given instruction.</p>
                              <form ng-submit="resetpassword()" id="loginform" class="form-horizontal" role="form">
                                <div class="input-group">
                                  <span class="input-group-addon"><img src="/new-ui/images/email-icon.png" alt="" /></span>
                                  <input id="login-username" type="text" class="form-control" name="username" ng-model="email" value="" placeholder="Email Your Address">
                                </div>
                                <button type="submit" class="btn btn-primary btn-lg btn-block login-button">Proceed</button>
                              </form>
                           </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
         </div>
        <!-- End Login Section Pop Up -->
     

       <!-- Begin Modal Mortgage Calculator Mobile -->
       <div class="mortgage-calculator-mobile">
          <div class="modal fade" id="mobileModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <div class="modal-title" id="exampleModalLongTitle">Mortgage Calculator</div>
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <img src="/new-ui/images/close-btn.png" alt="">
                  </button>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-sm-6">
                            <div class="mortgage-calculator-form-box">
                                <form>
                                  <div class="form-group">
                                    <label>Home price</label>
                                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="$ 300,000">
                                  </div>
                                  <div class="form-group">
                                    <label>Down payment</label>
                                    <div class="down-payment">
                                      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="$ 60,000">
                                    </div>
                                    <div class="downPercent">
                                      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="20">
                                      <div class="input-overlay-text_right">%</div>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label>Loan program</label>
                                    <select class="form-control" id="exampleFormControlSelect1">
                                      <option>30 - Year Fixed</option>
                                      <option>15 - Year Fixed</option>
                                      <option>5/1 ARM</option>
                                    </select>
                                  </div>
                                  <div class="form-group input-overlay-text">
                                    <label>Interest rate <span>See current rates</span></label>
                                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="4.297">
                                    <div class="input-overlay-text_right">%</div>
                                  </div>

                                  <div class="form-group">
                                  <div class="switch-box">
                                    <div class="switch-round-box">
                                        <label class="switch">
                                          <input type="checkbox">
                                          <span class="slider round"></span>
                                        </label>
                                      </div>
                                      <p>Include PMI <i class="fa fa-question-circle"></i></p>
                                     </div>
                                     <div class="switch-box">
                                    <div class="switch-round-box">
                                      <label class="switch">
                                        <input type="checkbox" checked>
                                      <span class="slider round"></span>
                                    </label>
                                    </div>
                                    <p>Include taxes/insurance</p>
                                    </div>
                                  </div>
                                  <div class="form-group">
                                    <label>Property tax <i class="fa fa-question-circle"></i></label>

                                    <div class="down-payment">
                                      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="$ 3,600">
                                      <div class="year">/Year</div>
                                    </div>
                                    <div class="downPercent">
                                      <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="1.2">
                                      <div class="input-overlay-text_right">%</div>
                                    </div>
                                  </div>
                                  <div class="form-group input-overlay-text">
                                    <label>Home insurance <i class="fa fa-question-circle"></i></label>
                                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="$ 800">
                                    <div class="input-overlay-text_right">/Year</div>
                                  </div>
                                  <div class="form-group input-overlay-text">
                                    <label>HOA dues <i class="fa fa-question-circle"></i></label>
                                    <input type="text" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="$ 0">
                                    <div class="input-overlay-text_right">/Month</div>
                                  </div>
                                </form>
                            </div>
                        </div>
                        <div class="col-sm-6">
                           <div class="mortgage-calculator-right-box">
                               <div class="right-box-border"></div>
                                <div class="insurance-chart">
                                    <img src="/new-ui/images/chart-mobile.png" alt="" />
                                </div>
                                <hr>
                                <div class="mortgage-contain">
                                    <h2>TOTAL PRICE OF HOME</h2>
                                    <div class="price-text">$264,519</div>
                                    <div class="base-price">Base Price <span>$263,000</span></div>
                                    <div class="base-price">Designs Selected<span>$1,519</span></div>
                                    <div class="space"></div>
                                    <h2>Monthly Estimated Payment</h2>
                                    <div class="price-text">$2,336</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
              </div>
            </div>
          </div>
       </div>
       <!-- End Modal Mortgage Calculator Mobile -->


       </div>
    <!-- End wrapper -->


<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>


    <!-- jquery latest version -->
    <script src="/new-ui/js/jquery.min.js"></script>

    <!-- popper.min js -->
    <script src="/new-ui/js/popper.min.js"></script>

    <!-- bootstrap.min js -->
    <script src="/new-ui/js/bootstrap.min.js"></script>

    <!-- sweetalert.min js -->
    <script src="/new-ui/js/sweetalert.min.js"></script>

    <!-- ie10 viewport bug-workaround js -->
    <script src="/new-ui/js/ie10-viewport-bug-workaround.js"></script>

     <script src="/new-ui/js/ion.rangeSlider.js"></script>


      <!-- Core JS file -->
    <script src="/new-ui/js/photoswipe.min.js"></script>

    <!-- UI JS file -->
    <script src="/new-ui/js/photoswipe-ui-default.min.js"></script>

    
    <script src="https://www.gstatic.com/firebasejs/4.2.0/firebase.js"></script>
       <script>
// Initialize Firebase
        // var config = {
        //   apiKey: "AIzaSyAgLc7S4GYtaaq5UVFp3Ntv3FWETybHS-M",
        //   authDomain: "forbes-xhome.firebaseapp.com",
        //   databaseURL: "https://forbes-xhome.firebaseio.com",
        //   projectId: "forbes-xhome",
        //   storageBucket: "forbes-xhome.appspot.com",
        //   messagingSenderId: "436329022030"
        // };
        // firebase.initializeApp(config);
          // Initialize Firebase
  var config = {
    apiKey: "AIzaSyDx7PT_zuPZxnSgStQWEdNzNi71-cM1MCQ",
    authDomain: "x-series-for-demo.firebaseapp.com",
    databaseURL: "https://x-series-for-demo.firebaseio.com",
    projectId: "x-series-for-demo",
    storageBucket: "x-series-for-demo.appspot.com",
    messagingSenderId: "147337535666"
  };
  firebase.initializeApp(config);
        var storageRef = firebase.storage().ref();
        const floorID = "Floor_lnpszjcf3";
       </script>
    
  
  <script src="https://code.createjs.com/createjs-2014.12.12.min.js"></script>
    <script src="bower_components/handlebars/handlebars.min.js"></script>

    <script src="bower_components/angular/angular.js"></script>
    <script src="bower_components/angular-animate/angular-animate.js"></script>
    <script src="bower_components/angular-aria/angular-aria.js"></script>
    <script src="bower_components/angular-cookies/angular-cookies.js"></script>
    <script src="bower_components/angular-messages/angular-messages.js"></script>
    <script src="bower_components/angular-socialshare/dist/angular-socialshare.min.js"></script>
    <script src="bower_components/angular-resource/angular-resource.js"></script>
    <script src="bower_components/angular-route/angular-route.js"></script>
    <script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
    <script src="bower_components/angular-touch/angular-touch.js"></script>
    <script src="bower_components/mustache.js/mustache.js"></script>
    <script src="bower_components/jquery.panzoom/dist/jquery.panzoom.js"></script>
    <script src="bower_components/blockUI/jquery.blockUI.js"></script>
    <script src="bower_components/wnumb/wNumb.js"></script>

    <!-- custom js -->
    <script src="/new-ui/js/custom.js"></script>
    <script>
       $(document).ready(function(){
            section_height = $('.xfloor-section-right').height();
            $(document).on('click' , '#close-btn1,#close-btn2,#close-btn3' , function(e){
                e.preventDefault();
                if($(window).width()<=991){
                    $('.right-part-tabs .tab-pane.active').removeClass('active');
                    $('.xfloor-tabs-box li a').removeClass('active');
                    $('.xfloor-section-right').css("height", "0");
                }
            });
            if($(window).width()<=991){
                $('.xfloor-tabs-box li a').click(function(){
                    if (window.matchMedia("(orientation: portrait)").matches) {
                        $('.xfloor-section-right').css("height", section_height);
                    } else {
                        var header_height = $('.top-header').height() + 72;
                        var menu_box_height = $(window).innerHeight() - header_height;
                        $('.xfloor-section-right').height(menu_box_height+'px');
                    }
                });
            }

            $(document).on('click','.nav-link', function(){
                if($(window).width() >= 992) {
                    $('.xfloor-section-right').css("height", '100%');
                    if(!$('.right-part-tabs .tab-pane.active').hasClass('active')) {
                        $('#community-tab').addClass('active');
                        $('#community').addClass('active');
                    }
                }
            });

            $(window).resize(function(){
                section_height = $('.xfloor-section-right').height();
                textarea_height = $('#note_textarea').height();
                $(document).on('click' , '#close-btn1,#close-btn2,#close-btn3' , function(e){
                    e.preventDefault();
                    if($(window).width()<=991){
                        close_panel();
                    }
                });
                if($(window).width()<=991){
                    $('.xfloor-tabs-box li a').click(function(){
                        if (window.matchMedia("(orientation: portrait)").matches) {
                            if($(window).width() > 767){
                                height = '350px';
                            } else {
                                height = '250px';
                            }
                            open_panel(height);
                        } else {
                            var header_height = $('.top-header').height() + 72;
                            var menu_box_height = $(window).innerHeight() - header_height;
                            $('.xfloor-section-right').height(menu_box_height+'px');
                        }
                    });

                }
                if($(window).width() >= 992) {
                    $('.xfloor-section-right').css("height", '100%');
                    if(!$('.right-part-tabs .tab-pane.active').hasClass('active')) {
                        $('#community-tab').addClass('active');
                        $('#community').addClass('active');
                        $('#community').addClass('show');
                    }
                }
                if($(window).width() < 992) {
                   setTimeout(function(){
                        var textarea_height = $('.xfloor-section-right').height()-70;
                        $('#note_textarea').css("height", textarea_height+"px");
                    }, 100);

                } else {
                    $('#note_textarea').css("height", "150px");
                }
                if($(window).width() <= 991 && $(window).width() >= 768) {
                    if($('.right-part-tabs .tab-pane.active').hasClass('active')) {
                        $('.xfloor-section-right').css("height", '350px');
                    }
                }
                if($(window).width() <= 767) {
                    if($('.right-part-tabs .tab-pane.active').hasClass('active')) {
                        $('.xfloor-section-right').css("height", '250px');
                    }
                }

                if (window.matchMedia("(orientation: landscape)").matches) {
                    // you are in LANDSCAPE mode
                    if($(window).width() < 992) {
                        if($('.xfloor-section-right').height() > 0) {
                            var header_height = $('.top-header').height() + 72;
                            var menu_box_height = $(window).innerHeight() - header_height;
                            $('.xfloor-section-right').height(menu_box_height+'px');
                        }
                        $('.xfloor-section .xfloor-section-center img').css("height","calc(100vh - 85px - 40px)");
                    }
                }
                else{
                  $('.xfloor-section .xfloor-section-center img').css("height","auto");
                }
            });
            if (window.matchMedia("(orientation: landscape)").matches) {
                // you are in LANDSCAPE mode
                if($(window).width() < 992) {
                    var header_height = $('.top-header').height() + 72;
                    var menu_box_height = $(window).innerHeight() - header_height;
                    $('.xfloor-section-right').height(menu_box_height+'px');
                     $('.xfloor-section .xfloor-section-center img').css("height","calc(100vh - 85px - 40px)");
                }
            }
            else{
                  $('.xfloor-section .xfloor-section-center img').css("height","auto");
            }

            if($(window).width() < 992) {
                $('#note_textarea').css("height", $('.xfloor-section-right').height()-70+"px");
            } else {
                $('#note_textarea').css("height", "150px");
            }
        });

        function close_panel() {
            $('.right-part-tabs .tab-pane.active').removeClass('active');
            $('.xfloor-tabs-box li a').removeClass('active');
            $('.xfloor-section-right').css("height", "0");
        }

        function open_panel(height) {
            $('.xfloor-section-right').css("height", height);
        }





      /* accordian price */
     $('.filter-price-box .collapse').on('shown.bs.collapse', function(){
        $(this).parent().find(".fa-chevron-right").removeClass("fa-chevron-right").addClass("fa-chevron-down");
        }).on('hidden.bs.collapse', function(){
        $(this).parent().find(".fa-chevron-down").removeClass("fa-chevron-down").addClass("fa-chevron-right");
    });



      $('.xfloor-tabs-box li a.xfloor-floor').click(function(){
            $('.floor-plan-img').css("display", 'block');
            $('.elevation-home-img').css("display", 'none');
     });
      $('.xfloor-tabs-box li a.xfloor-home').click(function(){
            $('.floor-plan-img').css("display", 'none');
            $('.elevation-home-img').css("display", 'block');
     });

    </script>


     <!-- custom scrollbar js -->
  <link rel="stylesheet" href="/new-ui/css/mCustomScrollbar.css" />
    <script src="/new-ui/js/mCustomScrollbar.concat.min.js"></script>
   <script>
        $(document).ready(function(){

            $(".mortgage-calculator-mobile .mortgage-calculator-form-box").mCustomScrollbar({
          theme:"dark",
                axis:"y"
        });



        });

  </script>

   <script type="text/javascript">
(function() {

    var initPhotoSwipeFromDOM = function(gallerySelector) {

          var parseThumbnailElements = function(el) {
          var thumbElements = el.childNodes,
              numNodes = thumbElements.length,
              items = [],
              el,
              childElements,
              thumbnailEl,
              size,
              item;

          for(var i = 0; i < numNodes; i++) {
              el = thumbElements[i];

              // include only element nodes
              if(el.nodeType !== 1) {
                continue;
              }

              childElements = el.children;

              size = el.getAttribute('data-size').split('x');

              // create slide object
              item = {
            src: el.getAttribute('href'),
            w: parseInt(size[0], 10),
            h: parseInt(size[1], 10),
            author: el.getAttribute('data-author')
              };

              item.el = el; // save link to element for getThumbBoundsFn

              if(childElements.length > 0) {
                item.msrc = childElements[0].getAttribute('src'); // thumbnail url
                if(childElements.length > 1) {
                    item.title = childElements[1].innerHTML; // caption (contents of figure)
                }
              }


          var mediumSrc = el.getAttribute('data-med');
                if(mediumSrc) {
                  size = el.getAttribute('data-med-size').split('x');
                  // "medium-sized" image
                  item.m = {
                      src: mediumSrc,
                      w: parseInt(size[0], 10),
                      h: parseInt(size[1], 10)
                  };
                }
                // original image
                item.o = {
                  src: item.src,
                  w: item.w,
                  h: item.h
                };

              items.push(item);
          }

          return items;
      };

      // find nearest parent element
      var closest = function closest(el, fn) {
          return el && ( fn(el) ? el : closest(el.parentNode, fn) );
      };

      var onThumbnailsClick = function(e) {
          e = e || window.event;
          e.preventDefault ? e.preventDefault() : e.returnValue = false;

          var eTarget = e.target || e.srcElement;

          var clickedListItem = closest(eTarget, function(el) {
              return el.tagName === 'A';
          });

          if(!clickedListItem) {
              return;
          }

          var clickedGallery = clickedListItem.parentNode;

          var childNodes = clickedListItem.parentNode.childNodes,
              numChildNodes = childNodes.length,
              nodeIndex = 0,
              index;

          for (var i = 0; i < numChildNodes; i++) {
              if(childNodes[i].nodeType !== 1) {
                  continue;
              }

              if(childNodes[i] === clickedListItem) {
                  index = nodeIndex;
                  break;
              }
              nodeIndex++;
          }

          if(index >= 0) {
              openPhotoSwipe( index, clickedGallery );
          }
          return false;
      };

      var photoswipeParseHash = function() {
        var hash = window.location.hash.substring(1),
          params = {};

          if(hash.length < 5) { // pid=1
              return params;
          }

          var vars = hash.split('&');
          for (var i = 0; i < vars.length; i++) {
              if(!vars[i]) {
                  continue;
              }
              var pair = vars[i].split('=');
              if(pair.length < 2) {
                  continue;
              }
              params[pair[0]] = pair[1];
          }

          if(params.gid) {
            params.gid = parseInt(params.gid, 10);
          }

          return params;
      };

      var openPhotoSwipe = function(index, galleryElement, disableAnimation, fromURL) {
          var pswpElement = document.querySelectorAll('.pswp')[0],
              gallery,
              options,
              items;

        items = parseThumbnailElements(galleryElement);

          // define options (if needed)
          options = {

              galleryUID: galleryElement.getAttribute('data-pswp-uid'),

              getThumbBoundsFn: function(index) {
                  // See Options->getThumbBoundsFn section of docs for more info
                  var thumbnail = items[index].el.children[0],
                      pageYScroll = window.pageYOffset || document.documentElement.scrollTop,
                      rect = thumbnail.getBoundingClientRect();

                  return {x:rect.left, y:rect.top + pageYScroll, w:rect.width};
              },

              addCaptionHTMLFn: function(item, captionEl, isFake) {
            if(!item.title) {
              captionEl.children[0].innerText = '';
              return false;
            }
            captionEl.children[0].innerHTML = item.title +  '<br/><small>Photo: ' + item.author + '</small>';
            return true;
              }

          };


          if(fromURL) {
            if(options.galleryPIDs) {
              // parse real index when custom PIDs are used
              // http://photoswipe.com/documentation/faq.html#custom-pid-in-url
              for(var j = 0; j < items.length; j++) {
                if(items[j].pid == index) {
                  options.index = j;
                  break;
                }
              }
            } else {
              options.index = parseInt(index, 10) - 1;
            }
          } else {
            options.index = parseInt(index, 10);
          }

          // exit if index not found
          if( isNaN(options.index) ) {
            return;
          }



        var radios = document.getElementsByName('gallery-style');
        for (var i = 0, length = radios.length; i < length; i++) {
            if (radios[i].checked) {
                if(radios[i].id == 'radio-all-controls') {

                } else if(radios[i].id == 'radio-minimal-black') {
                  options.mainClass = 'pswp--minimal--dark';
                  options.barsSize = {top:0,bottom:0};
              options.captionEl = false;
              options.fullscreenEl = false;
              options.shareEl = false;
              options.bgOpacity = 0.85;
              options.tapToClose = true;
              options.tapToToggleControls = false;
                }
                break;
            }
        }

          if(disableAnimation) {
              options.showAnimationDuration = 0;
          }

          // Pass data to PhotoSwipe and initialize it
          gallery = new PhotoSwipe( pswpElement, PhotoSwipeUI_Default, items, options);

          // see: http://photoswipe.com/documentation/responsive-images.html
        var realViewportWidth,
            useLargeImages = false,
            firstResize = true,
            imageSrcWillChange;

        gallery.listen('beforeResize', function() {

          var dpiRatio = window.devicePixelRatio ? window.devicePixelRatio : 1;
          dpiRatio = Math.min(dpiRatio, 2.5);
            realViewportWidth = gallery.viewportSize.x * dpiRatio;


            if(realViewportWidth >= 1200 || (!gallery.likelyTouchDevice && realViewportWidth > 800) || screen.width > 1200 ) {
              if(!useLargeImages) {
                useLargeImages = true;
                  imageSrcWillChange = true;
              }

            } else {
              if(useLargeImages) {
                useLargeImages = false;
                  imageSrcWillChange = true;
              }
            }

            if(imageSrcWillChange && !firstResize) {
                gallery.invalidateCurrItems();
            }

            if(firstResize) {
                firstResize = false;
            }

            imageSrcWillChange = false;

        });

        /*gallery.listen('gettingData', function(index, item) {
            if( useLargeImages ) {
                item.src = item.o.src;
                item.w = item.o.w;
                item.h = item.o.h;
            } else {
                item.src = item.m.src;
                item.w = item.m.w;
                item.h = item.m.h;
            }
        });*/

          gallery.init();
      };

      // select all gallery elements
      var galleryElements = document.querySelectorAll( gallerySelector );
      for(var i = 0, l = galleryElements.length; i < l; i++) {
        galleryElements[i].setAttribute('data-pswp-uid', i+1);
        galleryElements[i].onclick = onThumbnailsClick;
      }

      // Parse URL and open gallery if it contains #&pid=3&gid=1
      var hashData = photoswipeParseHash();
      if(hashData.pid && hashData.gid) {
        openPhotoSwipe( hashData.pid,  galleryElements[ hashData.gid - 1 ], true, true );
      }
    };

    initPhotoSwipeFromDOM('.biorev-gallery');

  })();
</script>

<script src="/new-ui/js/wNumb.js"></script>
<script src="/new-ui/js/nouislider.min.js"></script>
 <script>
// var range = document.getElementById('slider-huge');
// noUiSlider.create(range, {
//   range: {
//     'min': 0,
//     'max': 10
//   },
//   step: 1,
//   start:0,
//   // Display colored bars between handles
//   connect: true,

//   // Put '0' at the bottom of the slider
//    direction: 'rtl',
//   orientation: 'vertical',

//   // Move handle on tap, bars are draggable
//   behaviour: 'tap-drag',
//   tooltips: false,
//   format: wNumb({
//     decimals: 0
//   })
// });
</script>



    <!-- CUSTOM  -->
    <script src="scripts/floorx.js"></script>
    <script src="scripts/script.js"></script>

        <!-- build:js({.tmp,app}) scripts/scripts.js -->
        <script src="scripts/app.js"></script>
        <script src="scripts/controllers/main.js"></script>
        <script src="scripts/controllers/about.js"></script>
        <script src="scripts/services/userservice.js"></script>
        <!-- endbuild -->
  
        <script src="scripts/controllers/profile.js"></script>
        <script src="scripts/controllers/user.js"></script>
        <script src="scripts/controllers/forgot.js"></script>
        <script src="scripts/controllers/favorites.js"></script>
        <script src="scripts/controllers/final.js"></script>
        
        
       
        <script>
          Handlebars.registerHelper('json', function(context) {
            return JSON.stringify(context);
          });

          Handlebars.registerHelper('dependantElement', function(context) {
              if( typeof context == "string" ){
                return '';
              }
              var sendBack = '';
              for( var i in context  ){
                sendBack += 'dependent-'+context[i]+'-element'
              }
              return sendBack;
          });
        /*===============================================
        =            GENERAL CONFING INITERS            =
        ===============================================*/
          
          function generalConfig(){

            if( window.location.href.indexOf('id') != -1  ){
  var __base = window.location.href.split('?id=')[1].split('&name=');
  __base2 = __base[1].split('&token=');
  __base.splice(1,1);
  __base = __base.concat(__base2);
  
  var sessionid = __base[0];
  // var sessionid = urlParams.id;
  const name = __base[1];
  window.TOKEN = __base[2].trim();
  if( __base[2].trim().length > 5 ){
    firebase.auth().signInWithCustomToken(__base[2]).catch(function(error) {
      var errorCode = error.code;
      var errorMessage = error.message;
      console.log(errorCode);
      
      });

  }

  var toUse = '';

  for( var i in FLOORXDATA ){
    var inst = FLOORXDATA[i];
    if( inst.name == name ){
      toUse = inst;
    }
  }

  FLOORXDATA = [toUse];

  // $('.single-elevation').
        //dbModel = dbModel(firebase);

    firebase.database().ref('/sessions/'+sessionid).once('value').then(function(resp){
        var data = resp.val();
        GLOBAL_IMAGE = data.image;
        GLOBAL_FINAL_HOMEX = data;
        console.log(data);
        $(function(){
            $('.front-image-wrapper').find('img').attr('src' , GLOBAL_IMAGE);
            $('#elevation-wrapper .single-elevation').eq(0).find('img').attr('src' , GLOBAL_IMAGE);
        });
        var FX = new floorx();
        
    }).catch(function(err){
      alert('Session data corrupt. Reverting to default');
      // GLOBAL_IMAGE = "https://firebasestorage.googleapis.com/v0/b/kitchenx-4bf92.appspot.com/o/0000000aaaaaKeegan%20Base%20Image.jpg?alt=media&token=31a717ee-e6fd-4246-a08a-1be12a3b0b81";
      var FX = new floorx();
    });
    
    /*=====  End of FIREBASE  ======*/
  $('#next-btn').show();  
}else{
  
  setTimeout(function(){
    $('#next-btn').hide();    
    // GLOBAL_IMAGE  = "https://firebasestorage.googleapis.com/v0/b/kitchenx-4bf92.appspot.com/o/0000000aaaaaKeegan%20Base%20Image.jpg?alt=media&token=31a717ee-e6fd-4246-a08a-1be12a3b0b81";
  var FX = new floorx();
  },2000);
  
  // $('#next-btn').hide();
  
  
}

          }
        
        
        /*=====  End of GENERAL CONFING INITERS  ======*/
        

       /*================================
    =            FIREBASE            = */
    window.GLOBAL_IMAGE = FLOORXDATA[0].image;

    firebase.database().ref('/ash/xFloor360/floors').once('value').then(function(snap){
        window.FLOORSLIST = snap.val()
        generalConfig()
    }).catch(function(err){
      alert('An error occured')
      console.log(err)
    })

    </script>


</body>

</html>